<?xml version="1.0" encoding="UTF-8" ?>
<cartridge xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="5.1.2" name="MT8-9_2016" type="Cartridge">
	<version>1.0</version>
	<private>
		<summary>
			<service name="MT800_2016" version="1.0" type="External Message">
				<description>This message is sent by, or on behalf of, a remitting agent to the issuer of travellers cheques.

It is used to account for (ie, sale and settlement details) one or several sales of travellers cheques by a single selling agent, as specified by the purchase agreement.</description>
			</service>
			<service name="MT801_2016" version="1.0" type="External Message">
				<description>This message type is sent by, or on behalf of, a single remitting agent to the issuer of travellers cheques.

It is used to provide the sale details of a multiple sale of travellers cheques by either:

a) a single selling agent (where the details would exceed the maximum input message length of an MT 800 T/C Sales and Settlement Advice [Single]), or

b) several selling agents.

This message will be followed by an MT 802 T/C Settlement Advice.</description>
			</service>
			<service name="MT802_2016" version="1.0" type="External Message">
				<description>This message type is sent by, or on behalf of, a single remitting agent to the issuer of travellers cheques.

The T/C Settlement Advice is used to provide the settlement details of the total sales amount included in one or several MT 801 T/C Multiple Sales Advice.

A single MT 802 must always be preceded by one or several MT 801s.</description>
			</service>
			<service name="MT824_2016" version="1.0" type="External Message">
				<description>This message type is sent by, or on behalf of, a selling agent to an issuer of travellers cheques. 

It is used to notify the issuer of the destruction/cancellation of travellers cheque inventory held by that selling agent.

The message may also be sent by an issuer to a selling agent, or to the Receiver to forward to a selling agent, to request the selling agent to destroy/cancel travellers cheque inventory which is held by the selling agent.</description>
			</service>
			<service name="MT890_2016" version="1.0" type="External Message">
				<description>This message type is sent by an account servicing institution to the account owner.

It is used to advise charges, interest or other adjustments which have been debited or credited to the account owner's account. It provides details of charges which are previously unknown to the Receiver.</description>
			</service>
			<service name="MT891_2016" version="1.0" type="External Message">
				<description>This message type is sent by a financial institution to another financial institution.

It is used to request the payment of charges, interest and/or other expenses which are previously unknown to the Receiver.</description>
			</service>
			<service name="MT892_2016" version="1.0" type="External Message">
				<description>This message is: 

a) sent by a financial institution to request a second financial institution to consider cancellation of the SWIFT message identified in the request. 

b) sent by a corporate customer to request a financial institution to consider cancellation of the SWIFT message identified in the request. 

If the Receiver of the request for cancellation has already acted on the message for which cancellation is requested, the MT n92 asks for a retransfer, that is, reversal, with the beneficiary's consent.

</description>
			</service>
			<service name="MT895_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by a financial institution to another financial institution. 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to request information or clarification relating to a previous SWIFT or non-SWIFT message or to one or more transactions contained therein. 

A query may also be sent to request that an amendment be made to a previous message, except in those cases where a specific message, or facility within a message, has been provided for this purpose in the related category, for example, MT 707, AMEND in field 22 of the MT 300. 

The category digit of the MT n95 Queries must be: 

a) If related to a SWIFT message, the category digit of the related message. 

b) If not related to a SWIFT message, the category digit which best describes the business purpose of the message. 

</description>
			</service>
			<service name="MT896_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by one financial institution to another financial institution . 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to respond to an MT n95 Queries or MT n92 Request for Cancellation and other messages where no specific message type has been provided for the response. This message should use the same category digit as the related queries message or request for cancellation. 

</description>
			</service>
			<service name="MT898_2016" version="1.0" type="External Message">
				<description>This message type is used by financial institutions, with their own offices, and/or with other financial institutions with which they have established bilateral agreements.

It is used as an envelope for a specified message included in it.

It allows for the definition of a unique format for which another message type is not available or applicable.

It also allows financial institutions to use message types which are awaiting live implementation on the SWIFT system.</description>
			</service>
			<service name="MT899_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) used by financial institutions to send or receive information for which another message type is not applicable. 

b) used between a corporate and its financial institution for which another message type is not applicable. 

The category digit should be chosen so the message will be routed to the unit of the Receiver which is most capable of acting on the information. 

This format does not apply to category 4 and 7. For more details, see the relevant category Message Reference Guide for MT 499 and MT 799. 

</description>
			</service>
			<service name="MT900_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by an account servicing institution to an account owner. 

b) sent by an account servicing institution to a party authorised by the account owner to receive the information. 

c) sent by a concentrating financial institution to an account owner or a party authorised by the account owner to receive the information. 

It is used to notify the account owner of an entry which has been debited to its account. The entry will be further confirmed by statement.
</description>
			</service>
			<service name="MT910_2016" version="1.0" type="External Message">
				<description>This message is: 

a) sent by an account servicing institution to an account owner. 

b) sent by an account servicing institution to a party authorised by the account owner to receive the information. 

c) sent by a concentrating financial institution to an account owner or a party authorised by the account owner to receive the information. 

It is used to notify the account owner of an entry which has been credited to its account. The entry will be further confirmed by statement. 
</description>
			</service>
			<service name="MT920_2016" version="1.0" type="External Message">
				<description>This multiple message is sent by an account owner, or a financial institution (concentrating institution) acting on behalf of an account owner, to an account servicing institution.

It is used to request the account servicing institution to transmit one or more MT 940 Customer Statement(s), MT 941 Balance Report(s), MT 942 Interim Transaction Report(s), or MT 950 Statement Message(s) containing the latest information available for the account(s) identified in the message.</description>
			</service>
			<service name="MT935_2016" version="1.0" type="External Message">
				<description>This multiple message is used by the Sender to advise interest rate change(s) to the Receiver.

It is used to advise the details of:

a) General interest rate change(s).

b) Interest rate change(s) which apply to specific account(s), other than call/notice loan/deposit account(s), serviced by the Sender of the message for the Receiver.

Interest rate change(s) that can be advised by this message type include: NOTICE, CALL, PRIME, COMMERCIAL, BASE, CURRENT and DEPOSIT.</description>
			</service>
			<service name="MT940_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution), which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit detailed information about all entries booked to the account. 

NOTE:
Please do not disable the validation 'DC-FIX'. It provides fix for the parsing problem in field 61.</description>
			</service>
			<service name="MT941_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution), which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit balance information, reflecting the situation at the identified time in field 13D.
</description>
			</service>
			<service name="MT942_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution) which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit detailed and/or summary information about entries debited or credited to the account since: 

a) the last statement or balance report, or 

b) the last interim transaction report (sent in the period since the last statement or balance report). 
</description>
			</service>
			<service name="MT950_2016" version="1.0" type="External Message">
				<description>This message type is sent by an account servicing institution to an account owner. 

It is used to transmit detailed information about all entries, whether or not caused by a S.W.I.F.T. message, booked to the account.

NOTE:
Please do not disable the validation 'DC-FIX'. It provides fix for the parsing problem in field 61.</description>
			</service>
			<service name="MT970_2016" version="1.0" type="External Message">
				<description>This message type is sent at pre-arranged times from a netting system to a subscriber to the netting system.

It is used to provide detailed information about all the transactions which have been recorded by the netting system involving the receiving financial institution.

All transactions are reported once only in an MT 970 Netting Statement.</description>
			</service>
			<service name="MT971_2016" version="1.0" type="External Message">
				<description>This message type is sent, on request or at pre-arranged times, from a netting system to a subscriber to the netting system and to other authorised receivers.

It is used to advise the netting balance(s), at the time of transmission, for one or more financial institutions.</description>
			</service>
			<service name="MT972_2016" version="1.0" type="External Message">
				<description>This message type is sent, on request or at pre-arranged times, from a netting system to a subscriber to the netting system.

It is used to provide detailed information about transactions which have been recorded by the netting system involving the receiving financial institution.</description>
			</service>
			<service name="MT973_2016" version="1.0" type="External Message">
				<description>This message type is sent by a financial institution to a netting system.

It is used to request the netting system to transmit an MT 971 Netting Balance Report, an MT 972 Netting Interim Statement or an MT 998 Proprietary Message containing the latest available information.</description>
			</service>
			<service name="MT985_2016" version="1.0" type="External Message">
				<description>This message type is sent by a financial institution, to another financial institution, to request an MT 986 Status Report.</description>
			</service>
			<service name="MT986_2016" version="1.0" type="External Message">
				<description>This message type is sent by a financial institution, to another financial institution, to provide general credit information, without responsibility, about an individual or an institution.</description>
			</service>
			<service name="MT990_2016" version="1.0" type="External Message">
				<description>This message type is sent by an account servicing institution to the account owner.

It is used to advise charges, interest or other adjustments which have been debited or credited to the account owner's account. It provides details of charges which are previously unknown to the Receiver.</description>
			</service>
			<service name="MT991_2016" version="1.0" type="External Message">
				<description>This message type is sent by a financial institution to another financial institution.

It is used to request the payment of charges, interest and/or other expenses which are previously unknown to the Receiver.</description>
			</service>
			<service name="MT992_2016" version="1.0" type="External Message">
				<description>This message is: 

a) sent by a financial institution to request a second financial institution to consider cancellation of the SWIFT message identified in the request. 

b) sent by a corporate customer to request a financial institution to consider cancellation of the SWIFT message identified in the request. 

If the Receiver of the request for cancellation has already acted on the message for which cancellation is requested, the MT n92 asks for a retransfer, that is, reversal, with the beneficiary's consent.

</description>
			</service>
			<service name="MT995_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by a financial institution to another financial institution. 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to request information or clarification relating to a previous SWIFT or non-SWIFT message or to one or more transactions contained therein. 

A query may also be sent to request that an amendment be made to a previous message, except in those cases where a specific message, or facility within a message, has been provided for this purpose in the related category, for example, MT 707, AMEND in field 22 of the MT 300. 

The category digit of the MT n95 Queries must be: 

a) If related to a SWIFT message, the category digit of the related message. 

b) If not related to a SWIFT message, the category digit which best describes the business purpose of the message. 

</description>
			</service>
			<service name="MT996_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) sent by one financial institution to another financial institution . 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to respond to an MT n95 Queries or MT n92 Request for Cancellation and other messages where no specific message type has been provided for the response. This message should use the same category digit as the related queries message or request for cancellation. 

</description>
			</service>
			<service name="MT998_2016" version="1.0" type="External Message">
				<description>This message type is used by financial institutions, with their own offices, and/or with other financial institutions with which they have established bilateral agreements.

It is used as an envelope for a specified message included in it.

It allows for the definition of a unique format for which another message type is not available or applicable.

It also allows financial institutions to use message types which are awaiting live implementation on the SWIFT system.</description>
			</service>
			<service name="MT999_2016" version="1.0" type="External Message">
				<description>This message type is: 

a) used by financial institutions to send or receive information for which another message type is not applicable. 

b) used between a corporate and its financial institution for which another message type is not applicable. 

The category digit should be chosen so the message will be routed to the unit of the Receiver which is most capable of acting on the information. 

This format does not apply to category 4 and 7. For more details, see the relevant category Message Reference Guide for MT 499 and MT 799. 

</description>
			</service>
		</summary>
	</private>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT800_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message is sent by, or on behalf of, a remitting agent to the issuer of travellers cheques.

It is used to account for (ie, sale and settlement details) one or several sales of travellers cheques by a single selling agent, as specified by the purchase agreement.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT800</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>T/C Sales and Settlement Advice [Single]</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="51a">
						<SwiftFieldDef Name="51">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Selling Agent]]></Description>
							</Option>
							<Option Name="C">
								<Format><![CDATA[/34x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Selling Agent]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>A, C</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie, must not be of subtype BEID, MCCO, TESP or TRCO (Error code(s): C05).]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Purchase Agreement Details]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="23">
								<SwiftFieldDef Name="23">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[16x]]></Format>
										<Specification><![CDATA[(Reference)]]></Specification>
										<Description><![CDATA[Purchase Agreement ID]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
							</SwiftField>
							<SwiftField Name="30">
								<SwiftFieldDef Name="30">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6!n]]></Format>
										<Specification><![CDATA[(Date)]]></Specification>
										<Description><![CDATA[Sales Date]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="26A">
								<SwiftFieldDef Name="26">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[16x[/4!x]]]></Format>
										<Specification><![CDATA[(Number 1) (Number 2)]]></Specification>
										<Description><![CDATA[Serial Numbers]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>true</Repeating>
								<Presence>M</Presence>
								<Options>A</Options>
							</SwiftField>
							<SwiftField Name="33B">
								<SwiftFieldDef Name="33">
									<Generic>false</Generic>
									<Option Name="B">
										<Format><![CDATA[3!a15d]]></Format>
										<Specification><![CDATA[(Currency) (Amount)]]></Specification>
										<Description><![CDATA[Face Amount]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>B</Options>
								<Validations>
									<SubField Name="Currency">
										<Validation>
											<Options>B</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Amount">
										<Validation>
											<Options>B</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="73">
								<SwiftFieldDef Name="73">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6*35x]]></Format>
										<Specification><![CDATA[(Narrative)]]></Specification>
										<Description><![CDATA[Additional Amounts]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
					<SwiftSequence Name="B">
						<Name>B</Name>
						<Description><![CDATA[Settlement Details]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>false</Repeating>
						<Fields>
							<SwiftField Name="34B">
								<SwiftFieldDef Name="34">
									<Generic>false</Generic>
									<Option Name="B">
										<Format><![CDATA[3!a15d]]></Format>
										<Specification><![CDATA[(Currency) (Amount)]]></Specification>
										<Description><![CDATA[Selling Agent Amount]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>B</Options>
								<Validations>
									<SubField Name="Currency">
										<Validation>
											<Options>B</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Amount">
										<Validation>
											<Options>B</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="16A">
								<SwiftFieldDef Name="16">
									<Generic>false</Generic>
									<Description><![CDATA[Sequence]]></Description>
									<Option Name="A">
										<Format><![CDATA[5n]]></Format>
										<Specification><![CDATA[(Number)]]></Specification>
										<Description><![CDATA[Selling Agent's Number of PAs]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>A</Options>
							</SwiftField>
							<SwiftField Name="32A">
								<SwiftFieldDef Name="32">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[6!n3!a15d]]></Format>
										<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
										<Description><![CDATA[Settlement Amount]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>A</Options>
								<Validations>
									<SubField Name="Date">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Currency">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Amount">
										<Validation>
											<Options>A</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="52a">
								<SwiftFieldDef Name="52">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
										<Description><![CDATA[Remitting Agent]]></Description>
									</Option>
									<Option Name="D">
										<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
										<Description><![CDATA[Ordering Institution]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options>A, D</Options>
								<Validations>
									<SubField Name="Identifier_Code">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T27, T28, T29, T45</ErrorCode>
											<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
											<ValidationPattern xsi:type="BIC" Type="BIC">
												<Type>BIC</Type>
											</ValidationPattern>
										</Validation>
										<Validation>
											<Options>A</Options>
											<ErrorCode>C05</ErrorCode>
											<Comment><![CDATA[Identifier Code must not be a BEI, ie, must not be of subtype BEID, MCCO, TESP or TRCO (Error code(s): C05).]]></Comment>
											<ValidationPattern xsi:type="C05" Type="C05">
												<Type>C05</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="CreditDebit">
										<Validation>
											<Options>A, D</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="53a">
								<SwiftFieldDef Name="53">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
										<Description><![CDATA[Sender's Correspondent]]></Description>
									</Option>
									<Option Name="B">
										<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
										<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
										<Description><![CDATA[Sender's Correspondent]]></Description>
									</Option>
									<Option Name="D">
										<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
										<Description><![CDATA[Sender's Correspondent]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options>A, B, D</Options>
								<Validations>
									<SubField Name="Identifier_Code">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T27, T28, T29, T45</ErrorCode>
											<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
											<ValidationPattern xsi:type="BIC" Type="BIC">
												<Type>BIC</Type>
											</ValidationPattern>
										</Validation>
										<Validation>
											<Options>A</Options>
											<ErrorCode>C05</ErrorCode>
											<Comment><![CDATA[Identifier Code must not be a BEI, ie, must not be of subtype BEID, MCCO, TESP or TRCO (Error code(s): C05).]]></Comment>
											<ValidationPattern xsi:type="C05" Type="C05">
												<Type>C05</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="CreditDebit">
										<Validation>
											<Options>A, B, D</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="54a">
								<SwiftFieldDef Name="54">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
										<Description><![CDATA[Receiver's Correspondent]]></Description>
									</Option>
									<Option Name="B">
										<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
										<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
										<Description><![CDATA[Receiver's Correspondent]]></Description>
									</Option>
									<Option Name="D">
										<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
										<Description><![CDATA[Receiver's Correspondent]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options>A, B, D</Options>
								<Validations>
									<SubField Name="Identifier_Code">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T27, T28, T29, T45</ErrorCode>
											<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
											<ValidationPattern xsi:type="BIC" Type="BIC">
												<Type>BIC</Type>
											</ValidationPattern>
										</Validation>
										<Validation>
											<Options>A</Options>
											<ErrorCode>C05</ErrorCode>
											<Comment><![CDATA[Identifier Code must not be a BEI, ie, must not be of subtype BEID, MCCO, TESP or TRCO (Error code(s): C05).]]></Comment>
											<ValidationPattern xsi:type="C05" Type="C05">
												<Type>C05</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="CreditDebit">
										<Validation>
											<Options>A, B, D</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="72">
								<SwiftFieldDef Name="72">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6*35x]]></Format>
										<Specification><![CDATA[(Narrative)]]></Specification>
										<Description><![CDATA[Sender to Receiver Information]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>B.34B.Amount</fieldname>
						<comment><![CDATA[C1-1
The amount specified in field 32A must be the same as the amount specified in the preceding field 34B (Error code(s): C59).]]></comment>
						<formula><![CDATA[$value == B[0].F34B[0].Amount]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C59</error-code>
						<actionmessage><![CDATA["The amount specified in field 32A must be the same as the amount specified in the preceding field 34B."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>B.32A.Amount</fieldname>
						<comment><![CDATA[C1-2
The amount specified in field 32A must be the same as the amount specified in the preceding field 34B (Error code(s): C59).]]></comment>
						<formula><![CDATA[$value == B[0].F34B[0].Amount]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C59</error-code>
						<actionmessage><![CDATA["The amount specified in field 32A must be the same as the amount specified in the preceding field 34B."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-1</name>
						<fieldname>A.33B.Currency</fieldname>
						<comment><![CDATA[C2-1
The currency code in all occurrences of field 33B must be the same (Error code(s): C02). ]]></comment>
						<formula><![CDATA[$value == A[0].F33B[0].Currency]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C02</error-code>
						<actionmessage><![CDATA["The currency code in all occurrences of field 33B must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-2</name>
						<fieldname>B.34B.Currency</fieldname>
						<comment><![CDATA[C2-2
The currency code in field 34B and in all occurrences of field 33B must be the same (Error code(s): C02). ]]></comment>
						<formula><![CDATA[$value == A[0].F33B[0].Currency]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C02</error-code>
						<actionmessage><![CDATA["The currency code in field 34B and in all occurrences of field 33B must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-3</name>
						<fieldname>B.32A.Currency</fieldname>
						<comment><![CDATA[C2-3
The currency code in fields 32A and in all occurrences of field 33B must be the same (Error code(s): C02).]]></comment>
						<formula><![CDATA[$value == A[0].F33B[0].Currency]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C02</error-code>
						<actionmessage><![CDATA["The currency code in field 32A and in all occurrences of field 33B must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-1</name>
						<fieldname>B.32A</fieldname>
						<formula><![CDATA[applyERIValidation(B.F32A[0], "Date", B.F32A[0], "Currency")]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>E76</error-code>
						<actionmessage><![CDATA["For specific message types, an European currency must not be used as the currency of settlement after a cut-off date (Error Code: E76)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>B.72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT801_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by, or on behalf of, a single remitting agent to the issuer of travellers cheques.

It is used to provide the sale details of a multiple sale of travellers cheques by either:

a) a single selling agent (where the details would exceed the maximum input message length of an MT 800 T/C Sales and Settlement Advice [Single]), or

b) several selling agents.

This message will be followed by an MT 802 T/C Settlement Advice.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT801</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>T/C Multiple Sales Advice</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="28">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[5n[/2n]]]></Format>
								<Specification><![CDATA[(Settlement Number) (Page Number)]]></Specification>
								<Description><![CDATA[Settlement No/Page No]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Sequence A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="51a">
								<SwiftFieldDef Name="51">
									<Generic>false</Generic>
									<Option Name="A">
										<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
										<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
										<Description><![CDATA[Selling Agent]]></Description>
									</Option>
									<Option Name="C">
										<Format><![CDATA[/34x]]></Format>
										<Specification><![CDATA[(Account)]]></Specification>
										<Description><![CDATA[Selling Agent]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>A, C</Options>
								<Validations>
									<SubField Name="Identifier_Code">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T27, T28, T29, T45</ErrorCode>
											<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
											<ValidationPattern xsi:type="BIC" Type="BIC">
												<Type>BIC</Type>
											</ValidationPattern>
										</Validation>
										<Validation>
											<Options>A</Options>
											<ErrorCode>C05</ErrorCode>
											<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
											<ValidationPattern xsi:type="C05" Type="C05">
												<Type>C05</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="CreditDebit">
										<Validation>
											<Options>A</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftSequence Name="A1">
								<Name>A1</Name>
								<Description><![CDATA[Subsequence of of A]]></Description>
								<Mandatory>true</Mandatory>
								<Repeating>true</Repeating>
								<Fields>
									<SwiftField Name="23">
										<SwiftFieldDef Name="23">
											<Generic>false</Generic>
											<Option Name="">
												<Format><![CDATA[16x]]></Format>
												<Specification><![CDATA[(Purchase Agreement ID)]]></Specification>
												<Description><![CDATA[Purchase Agreement ID]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>false</Repeating>
										<Presence>M</Presence>
										<Options> </Options>
									</SwiftField>
									<SwiftField Name="30">
										<SwiftFieldDef Name="30">
											<Generic>false</Generic>
											<Option Name="">
												<Format><![CDATA[6!n]]></Format>
												<Specification><![CDATA[(Date)]]></Specification>
												<Description><![CDATA[Sales Date]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>false</Repeating>
										<Presence>O</Presence>
										<Options> </Options>
										<Validations>
											<SubField Name="Date">
												<Validation>
													<Options> </Options>
													<ErrorCode>T50</ErrorCode>
													<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
													<ValidationPattern xsi:type="DATE" Type="DATE">
														<Type>DATE</Type>
														<Format>yyMMdd</Format>
													</ValidationPattern>
												</Validation>
											</SubField>
										</Validations>
									</SwiftField>
									<SwiftField Name="26A">
										<SwiftFieldDef Name="26">
											<Generic>false</Generic>
											<Option Name="A">
												<Format><![CDATA[16x[/4!x]]]></Format>
												<Specification><![CDATA[(Number 1) (Number 2)]]></Specification>
												<Description><![CDATA[Serial Numbers]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>true</Repeating>
										<Presence>M</Presence>
										<Options>A</Options>
									</SwiftField>
									<SwiftField Name="33B">
										<SwiftFieldDef Name="33">
											<Generic>false</Generic>
											<Option Name="B">
												<Format><![CDATA[3!a15d]]></Format>
												<Specification><![CDATA[(Currency) (Amount)]]></Specification>
												<Description><![CDATA[Face Amount]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>false</Repeating>
										<Presence>M</Presence>
										<Options>B</Options>
										<Validations>
											<SubField Name="Currency">
												<Validation>
													<Options>B</Options>
													<ErrorCode>T52</ErrorCode>
													<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
													<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
														<Type>Currency Code</Type>
													</ValidationPattern>
												</Validation>
											</SubField>
											<SubField Name="Amount">
												<Validation>
													<Options>B</Options>
													<ErrorCode>C03</ErrorCode>
													<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
													<ValidationPattern xsi:type="Decimal" Type="Decimal">
														<Type>Decimal</Type>
														<currency-field>Currency</currency-field>
													</ValidationPattern>
												</Validation>
											</SubField>
										</Validations>
									</SwiftField>
									<SwiftField Name="73">
										<SwiftFieldDef Name="73">
											<Generic>false</Generic>
											<Option Name="">
												<Format><![CDATA[6*35x]]></Format>
												<Specification><![CDATA[(Narrative - Structured Format)]]></Specification>
												<Description><![CDATA[Additional Amounts]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>false</Repeating>
										<Presence>O</Presence>
										<Options> </Options>
									</SwiftField>
								</Fields>
							</SwiftSequence>
							<SwiftField Name="34B">
								<SwiftFieldDef Name="34">
									<Generic>false</Generic>
									<Option Name="B">
										<Format><![CDATA[3!a15d]]></Format>
										<Specification><![CDATA[(Currency) (Amount)]]></Specification>
										<Description><![CDATA[Selling Agent Amount]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>B</Options>
								<Validations>
									<SubField Name="Currency">
										<Validation>
											<Options>B</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Amount">
										<Validation>
											<Options>B</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="16A">
								<SwiftFieldDef Name="16">
									<Generic>false</Generic>
									<Description><![CDATA[Sequence]]></Description>
									<Option Name="A">
										<Format><![CDATA[5n]]></Format>
										<Specification><![CDATA[(Number)]]></Specification>
										<Description><![CDATA[Selling Agent's Number of PAs]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>A</Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>A.A1.33B.Currency</fieldname>
						<formula><![CDATA[$value == A[0].A1[0].F33B[0].Currency]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C02</error-code>
						<actionmessage><![CDATA["The currency code in all occurrences of fields 33B and 34B must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>A.34B.Currency</fieldname>
						<formula><![CDATA[$value == A[0].A1[0].F33B[0].Currency]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C02</error-code>
						<actionmessage><![CDATA["The currency code in all occurrences of fields 33B and 34B must be the same."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT802_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by, or on behalf of, a single remitting agent to the issuer of travellers cheques.

The T/C Settlement Advice is used to provide the settlement details of the total sales amount included in one or several MT 801 T/C Multiple Sales Advice.

A single MT 802 must always be preceded by one or several MT 801s.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT802</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>T/C Settlement Advice</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="28">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[5n[/2n]]]></Format>
								<Specification><![CDATA[(Settlement Number) (Page Number)]]></Specification>
								<Description><![CDATA[Settlement No/Page No]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="32A">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Settlement Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>A</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO currency code (Error code(s): T52)]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>A</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Description><![CDATA[Drawer Bank]]></Description>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Remitting Agent]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address) | (Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Remitting Agent]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="53a">
						<SwiftFieldDef Name="53">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Sender's Correspondent]]></Description>
							</Option>
							<Option Name="B">
								<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
								<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
								<Description><![CDATA[Sender's Correspondent]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Sender's Correspondent]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, B, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, B, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="54a">
						<SwiftFieldDef Name="54">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Receiver's Correspondent]]></Description>
							</Option>
							<Option Name="B">
								<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
								<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
								<Description><![CDATA[Receiver's Correspondent]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Receiver's Correspondent]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, B, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, B, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI-1</name>
						<formula><![CDATA[applyERIValidation(F32A[0], "Date",F32A[0], "Currency")]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>E76</error-code>
						<actionmessage><![CDATA["For specific message types, an European currency must not be used as the currency of settlement after a cut-off date (Error Code: E76)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT824_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by, or on behalf of, a selling agent to an issuer of travellers cheques. 

It is used to notify the issuer of the destruction/cancellation of travellers cheque inventory held by that selling agent.

The message may also be sent by an issuer to a selling agent, or to the Receiver to forward to a selling agent, to request the selling agent to destroy/cancel travellers cheque inventory which is held by the selling agent.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT824</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>T/C Inventory Destruction/Cancellation Notice</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="30">
						<SwiftFieldDef Name="30">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6!n]]></Format>
								<Specification><![CDATA[(Date)]]></Specification>
								<Description><![CDATA[Date Destroyed/Cancelled]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="51a">
						<SwiftFieldDef Name="51">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Selling Agent]]></Description>
							</Option>
							<Option Name="C">
								<Format><![CDATA[/34x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Selling Agent]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>A, C</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie, must not be of subtype BEID, MCCO, TESP or TRCO (Error code(s): C05).]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Sequence A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftSequence Name="A1">
								<Name>A1</Name>
								<Description><![CDATA[Sequence A1]]></Description>
								<Mandatory>true</Mandatory>
								<Repeating>true</Repeating>
								<Fields>
									<SwiftField Name="68A">
										<SwiftFieldDef Name="68">
											<Generic>false</Generic>
											<Option Name="A">
												<Format><![CDATA[6n3!a6n/2n[/15d][//10x]]]></Format>
												<Specification><![CDATA[(Number)(Currency)(Denomination)(Mode)(Amount)(Product Code)]]></Specification>
												<Description><![CDATA[Details of Cheques]]></Description>
											</Option>
										</SwiftFieldDef>
										<Repeating>false</Repeating>
										<Presence>M</Presence>
										<Options>A</Options>
										<Validations>
											<SubField Name="Currency">
												<Validation>
													<Options>A</Options>
													<ErrorCode>T52</ErrorCode>
													<Comment><![CDATA[Currency must be a valid ISO currency code (Error code(s): T52).]]></Comment>
													<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
														<Type>Currency Code</Type>
													</ValidationPattern>
												</Validation>
											</SubField>
											<SubField Name="Amount">
												<Validation>
													<Options>A</Options>
													<ErrorCode>C03</ErrorCode>
													<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
													<ValidationPattern xsi:type="Decimal" Type="Decimal">
														<Type>Decimal</Type>
														<currency-field>Currency</currency-field>
													</ValidationPattern>
												</Validation>
											</SubField>
										</Validations>
									</SwiftField>
									<SwiftSequence Name="A2">
										<Name>A2</Name>
										<Description><![CDATA[Sequence A2]]></Description>
										<Mandatory>true</Mandatory>
										<Repeating>true</Repeating>
										<Fields>
											<SwiftField Name="26B">
												<SwiftFieldDef Name="26">
													<Generic>false</Generic>
													<Option Name="B">
														<Format><![CDATA[16x[/16x]]]></Format>
														<Specification><![CDATA[(Number 1) (Number 2)]]></Specification>
														<Description><![CDATA[Serial Numbers]]></Description>
													</Option>
												</SwiftFieldDef>
												<Repeating>false</Repeating>
												<Presence>M</Presence>
												<Options>B</Options>
											</SwiftField>
										</Fields>
									</SwiftSequence>
								</Fields>
							</SwiftSequence>
							<SwiftField Name="19">
								<SwiftFieldDef Name="19">
									<Generic>false</Generic>
									<Description><![CDATA[Amount]]></Description>
									<Option Name="">
										<Format><![CDATA[17d]]></Format>
										<Specification><![CDATA[(Amount)]]></Specification>
										<Description><![CDATA[Total Face Value of Currency]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
					<SwiftField Name="77B">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[3*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Reason for Destruction/Cancellation]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1</name>
						<fieldname>A</fieldname>
						<comment><![CDATA[C1
The currency code in all fields 68A in a currency details sequence preceding a field 19, must be the same (Error code(s): C42). 

]]></comment>
						<formula><![CDATA[foreach(def a1 in $value.A1) {
	def cur = A.A1[0].F68A[0].Currency;
	def a = a1.F68A[0].Currency;
    if(cur != a1.F68A[0].Currency)
        return false;

}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C42</error-code>
						<actionmessage><![CDATA["The currency code in all fields 68A in a currency details sequence preceding a field 19, must be the same"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2</name>
						<fieldname>A</fieldname>
						<comment><![CDATA[C2
Field 19 at the completion of each outer repetitive sequence must equal the sum of the products of Number of Cheques (first subfield) and Denomination (third subfield) of all occurrences of field 68A from the respective inner repetitive sequence (Error code(s): C01). ]]></comment>
						<formula><![CDATA[def result = 0;
foreach(def Val in $value.A1) {
    result = result + (Val.F68A[0].Number * Val.F68A[0].Denomination);
}
$value.F19.Amount == result;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C01</error-code>
						<actionmessage><![CDATA["Field 19 at the completion of each outer repetitive sequence must equal the sum of the products of Number of Cheques (first subfield) and Denomination (third subfield) of all occurrences of field 68A from the respective inner repetitive sequence"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F-77B-A</name>
						<fieldname>77B.Narrative</fieldname>
						<comment><![CDATA[F-77B-A
The first line of field 77B should be of the following format: /8a/[additional information]. The remaining lines (2 - 3) should be of the following format: [//continuation of additional information] (Error code(s): T32). 
]]></comment>
						<formula><![CDATA[def Actualvalue = replace($value, "\r\n", "\n");
def lines = Split("\n", Actualvalue);
if(!VerifyFormat(lines[0], "/8a/[35x]")) {
    return false;
}
for(def i = 1; i < lines.Length(); ++i) {
    if(!lines[i].StartsWith("//")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T32</error-code>
						<actionmessage><![CDATA["The first line of field 77B should be of the following format: /8a/[additional information]. The remaining lines (2 - 3) should be of the following format: [//continuation of additional information]."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT890_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by an account servicing institution to the account owner.

It is used to advise charges, interest or other adjustments which have been debited or credited to the account owner's account. It provides details of charges which are previously unknown to the Receiver.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT890</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Advice of Charges, Interest and Other Adjustments</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Status]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="32a">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="C">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C, D</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="71B">
						<SwiftFieldDef Name="71">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Details of Charges]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT891_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by a financial institution to another financial institution.

It is used to request the payment of charges, interest and/or other expenses which are previously unknown to the Receiver.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT891</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Request for Payment of Charges, Interest and Other Expenses</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="32B">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[3!a15d]]></Format>
								<Specification><![CDATA[(Currency)(Amount)]]></Specification>
								<Description><![CDATA[Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>B</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>B</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="57a">
						<SwiftFieldDef Name="57">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="B">
								<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
								<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, B, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, B, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="71B">
						<SwiftFieldDef Name="71">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Details of Charges]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT892_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message is: 

a) sent by a financial institution to request a second financial institution to consider cancellation of the SWIFT message identified in the request. 

b) sent by a corporate customer to request a financial institution to consider cancellation of the SWIFT message identified in the request. 

If the Receiver of the request for cancellation has already acted on the message for which cancellation is requested, the MT n92 asks for a retransfer, that is, reversal, with the beneficiary's consent.

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT892</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Request for Cancellation</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="11S">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n[CRLF4!n6!n]]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number) (ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11S</name>
						<fieldname>11S.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11S, MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size == 0, IsNotNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C25</error-code>
						<actionmessage><![CDATA["Either field 79 or a copy of at least the mandatory fields of the original message must be present."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT895_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by a financial institution to another financial institution. 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to request information or clarification relating to a previous SWIFT or non-SWIFT message or to one or more transactions contained therein. 

A query may also be sent to request that an amendment be made to a previous message, except in those cases where a specific message, or facility within a message, has been provided for this purpose in the related category, for example, MT 707, AMEND in field 22 of the MT 300. 

The category digit of the MT n95 Queries must be: 

a) If related to a SWIFT message, the category digit of the related message. 

b) If not related to a SWIFT message, the category digit which best describes the business purpose of the message. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT895</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Queries</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="75">
						<SwiftFieldDef Name="75">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Queries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77A">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[20*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A</Options>
					</SwiftField>
					<SwiftField Name="11a">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="R">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of Original Message]]></Description>
							</Option>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>R, S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>R, S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Message to Which the Query Relates]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11a-A</name>
						<fieldname>11a.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11a, MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size > 0, IsNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C31</error-code>
						<actionmessage><![CDATA["Either field 79 or a 'Copy of at least the mandatory fields of the message to which the query relates', but not both, may be present in the message."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT896_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by one financial institution to another financial institution . 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to respond to an MT n95 Queries or MT n92 Request for Cancellation and other messages where no specific message type has been provided for the response. This message should use the same category digit as the related queries message or request for cancellation. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT896</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Answers</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="76">
						<SwiftFieldDef Name="76">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Answers]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77A">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[20*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A</Options>
					</SwiftField>
					<SwiftField Name="11a">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="R">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number) (Date) (Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>R, S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>R, S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Original Message to Which the Answer Relates]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11a</name>
						<fieldname>11a.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11a, the subfield MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size > 0, IsNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C31</error-code>
						<actionmessage><![CDATA["Either field 79 or a 'Copy of at least the mandatory fields of the message to which the answer relates', but not both, may be present in the message."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT898_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is used by financial institutions, with their own offices, and/or with other financial institutions with which they have established bilateral agreements.

It is used as an envelope for a specified message included in it.

It allows for the definition of a unique format for which another message type is not available or applicable.

It also allows financial institutions to use message types which are awaiting live implementation on the SWIFT system.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT698</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Treasury Markets Commodities</standard-category>
		<standard-detailed-name>Proprietary Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>10000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="12">
						<SwiftFieldDef Name="12">
							<Generic>false</Generic>
							<Description><![CDATA[Type of Financial Instrument]]></Description>
							<Option Name="">
								<Format><![CDATA[3!n]]></Format>
								<Specification><![CDATA[(MT Number)]]></Specification>
								<Description><![CDATA[Sub-Message Type]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77E">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="E">
								<Format><![CDATA[73x[CRLF1000*78x]]]></Format>
								<Specification><![CDATA[(Text1)(Text2)]]></Specification>
								<Description><![CDATA[Proprietary Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>E</Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F77E-A</name>
						<fieldname>77E</fieldname>
						<formula><![CDATA[def fullText = F77E.Text1 + "\r\n" + Val(F77E.Text2);
def fieldLength = fullText.Length();
return fieldLength <= 9800;]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T33</error-code>
						<actionmessage><![CDATA["The maximum size of this field is limited to 9800 characters."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT899_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) used by financial institutions to send or receive information for which another message type is not applicable. 

b) used between a corporate and its financial institution for which another message type is not applicable. 

The category digit should be chosen so the message will be routed to the unit of the Receiver which is most capable of acting on the information. 

This format does not apply to category 4 and 7. For more details, see the relevant category Message Reference Guide for MT 499 and MT 799. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT899</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Travellers Cheques</standard-category>
		<standard-detailed-name>Free Format Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT900_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by an account servicing institution to an account owner. 

b) sent by an account servicing institution to a party authorised by the account owner to receive the information. 

c) sent by a concentrating financial institution to an account owner or a party authorised by the account owner to receive the information. 

It is used to notify the account owner of an entry which has been debited to its account. The entry will be further confirmed by statement.
]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT900</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Confirmation of Debit</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Related Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Related_Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25a">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
							<Option Name="P">
								<Format><![CDATA[35x(CRLF4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> , P</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>P</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="13D">
						<SwiftFieldDef Name="13">
							<Generic>false</Generic>
							<Description><![CDATA[Time Indication]]></Description>
							<Option Name="D">
								<Format><![CDATA[6!n4!n1!x4!n]]></Format>
								<Specification><![CDATA[(Date) (Time) (Sign) (Offset)]]></Specification>
								<Description><![CDATA[Date/Time Indication]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Time">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T38</ErrorCode>
									<Comment><![CDATA[Time must be a valid time expressed as HHMM (Error code(s): T38).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>HHmm</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Offset">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T16</ErrorCode>
									<Comment><![CDATA[Time offset is expressed as 'HHMM', where the hour component, that is, 'HH', must be in the range of 00 through 13, and the minute component, that is, 'MM' must be in the range of 00 through 59. Any 'HH' or 'MM' component outside of these range checks will be disallowed (Error code(s): T16).]]></Comment>
									<ValidationPattern xsi:type="Time_Offset" Type="Time Offset">
										<Type>Time Offset</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Sign">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T15</ErrorCode>
									<Comment><![CDATA[One of the following codes must be used in Sign (Error code(s): T15):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="+">
												<DetailedName>Plus</DetailedName>
												<Description>The + sign.</Description>
											</Code>
											<Code Name="-">
												<DetailedName>Minus</DetailedName>
												<Description>The - sign.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="32A">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>A</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>A</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Description><![CDATA[Ordering Institution]]></Description>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address) | (Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI-1</name>
						<formula><![CDATA[applyERIValidation(F32A[0], "Date",F32A[0], "Currency")]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>E76</error-code>
						<actionmessage><![CDATA["For specific message types, an European currency must not be used as the currency of settlement after a cut-off date (Error Code: E76)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT910_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message is: 

a) sent by an account servicing institution to an account owner. 

b) sent by an account servicing institution to a party authorised by the account owner to receive the information. 

c) sent by a concentrating financial institution to an account owner or a party authorised by the account owner to receive the information. 

It is used to notify the account owner of an entry which has been credited to its account. The entry will be further confirmed by statement. 
]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT910</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Confirmation of Credit</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Related Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Related_Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25a">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Status]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
							<Option Name="P">
								<Format><![CDATA[35x(CRLF4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>P,  </Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>P</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="13D">
						<SwiftFieldDef Name="13">
							<Generic>false</Generic>
							<Description><![CDATA[Time Indication]]></Description>
							<Option Name="D">
								<Format><![CDATA[6!n4!n1!x4!n]]></Format>
								<Specification><![CDATA[(Date) (Time) (Sign) (Offset)]]></Specification>
								<Description><![CDATA[Date/Time Indication]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Sign">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T15</ErrorCode>
									<Comment><![CDATA[One of the following codes must be used in Sign (Error code(s): T15):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="+">
												<DetailedName>Plus</DetailedName>
												<Description>The + sign.</Description>
											</Code>
											<Code Name="-">
												<DetailedName>Minus</DetailedName>
												<Description>The - sign.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Time">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T38</ErrorCode>
									<Comment><![CDATA[Time must be a valid time expressed as HHMM (Error code(s): T38).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>HHmm</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Offset">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T16</ErrorCode>
									<Comment><![CDATA[Time offset is expressed as 'HHMM', where the hour component, that is, 'HH', must be in the range of 00 through 13, and the minute component, that is, 'MM' must be in the range of 00 through 59. Any 'HH' or 'MM' component outside of these range checks will be disallowed (Error code(s): T16).]]></Comment>
									<ValidationPattern xsi:type="Time_Offset" Type="Time Offset">
										<Type>Time Offset</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="32A">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>A</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
										<value-date>true</value-date>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>A</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency as specified in ISO 4217 (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="50a">
						<SwiftFieldDef Name="50">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[([/34xCRLF])(4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Customer]]></Description>
							</Option>
							<Option Name="F">
								<Format><![CDATA[35x(CRLF4*35x)]]></Format>
								<Specification><![CDATA[(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Customer]]></Description>
							</Option>
							<Option Name="K">
								<Format><![CDATA[([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(Account)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Customer]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, K, F</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Description><![CDATA[Ordering Institution]]></Description>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address) | (Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="56a">
						<SwiftFieldDef Name="56">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Intermediary]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Intermediary]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[F50a.$size > 0 || F52a.$size > 0]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C06</error-code>
						<actionmessage><![CDATA["Either field 50a or field 52a must be present."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-1</name>
						<formula><![CDATA[applyERIValidation(F32A[0], "Date",F32A[0], "Currency")]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>E76</error-code>
						<actionmessage><![CDATA["For specific message types, an European currency must not be used as the currency of settlement after a cut-off date (Error Code: E76)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-A</name>
						<fieldname>50a.Party_Identifier</fieldname>
						<comment><![CDATA[F50a-A
With option F, subfield 1 (Party Identifier), one of the following line formats must be used (Error code(s): T54):
Line format 1 :/34x (Account)
Line format 2 :4!a/2!a/27x (Code)(Country Code)(Identifier)]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FPartyIdFormat($value))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T54</error-code>
						<actionmessage><![CDATA["Invalid 'Party Identifier' value. One of the following line formats must be used: /34x (Account) or 4!a/2!a/27x (Code)(Country Code)(Identifier)"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-B</name>
						<fieldname>50a.Party_Identifier</fieldname>
						<comment><![CDATA[F50a-B
In option F, when subfield 1 Party Identifier is used with the (Code)(Country Code)(Identifier) format, one of the following codes must be used (Error code(s): T55): ARNU, CCPT, CUST, DRLC, EMPL, NIDN, SOSE and TXID."
]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FPartyIdCode($value))
/* get the code from party identifier if format is 4!a/2!a/27x */   ]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T55</error-code>
						<actionmessage><![CDATA["Invalid 'Party Identifier' value. When 'Party Identifier' is used with the format (Code)(Country Code)(Identifier), one of following codes must be used: ARNU, CCPT, CUST, DRLC, EMPL, NIDN, SOSE and TXID."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-C</name>
						<fieldname>50a.Party_Identifier</fieldname>
						<comment><![CDATA[F50a-D
In option F, subfield 1 (Party Identifier) used with the (Code)(Country Code)(Identifier) format: Country Code must be a valid ISO country code (Error code(s): T73).
]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FPartyIdCountryCode($value))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T73</error-code>
						<actionmessage><![CDATA["Invalid 'Party Identifier' value. In option F, subfield 1 (Party Identifier) used with the (Code)(Country Code)(Identifier) format: Country Code must be a valid ISO country code."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-D</name>
						<fieldname>50a.Name_&amp;_Address</fieldname>
						<comment><![CDATA[F50a-C
With option F, subfield 2 (Name & Address), the following line format must be used for all lines: 1!n/33x (Number)(Details). (Error code(s): T54).]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FNmandAdrFormat($value))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T54</error-code>
						<actionmessage><![CDATA["Invalid 'Name and Address' value. With option F, subfield 2 (Name and Address), the following line format must be used for all lines :1!n/33x (Number)(Details)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-E</name>
						<fieldname>50a.Name_&amp;_Address</fieldname>
						<comment><![CDATA[F50a-E
 With option F - subfield 2 (Name & Address), should start with Number 1 to 8 and it should follow the line formatting rules as specified in the SWIFT spec (Error code(s): T56).]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FNmandAdrLines2($value, F50a.Party_Identifier))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T56</error-code>
						<actionmessage><![CDATA["Invalid 'Name and Address' value. With option F - subfield 2 (Name and Address), should start with Number 1 to 8 and it should follow the line formatting rules as specified in the SWIFT spec."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-F</name>
						<fieldname>50a.Name_&amp;_Address</fieldname>
						<comment><![CDATA[F50a-F
Number 4 must be followed by a valid date in the format YYYYMMDD and this date, local to the sender, must not be later than the date on which the message is successfully sent to SWIFT (Error code(s): T50).
]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FNmandAdrDate($value))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T50</error-code>
						<actionmessage><![CDATA["Invalid 'Name and Address' value. Number 4 must be followed by a valid date in the format YYYYMMDD and this date, local to the sender, must not be later than the date on which the message is successfully sent to SWIFT."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>F50a-G</name>
						<fieldname>50a.Name_&amp;_Address</fieldname>
						<comment><![CDATA[F50a-G
Numbers 3, 5, 6 and 7 must be followed by a valid ISO country code
(Error code(s): T73).]]></comment>
						<formula><![CDATA[Implies(F50a.FormatOption == 'F', Verify50FNmandAdrCtryCode2($value))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T73</error-code>
						<actionmessage><![CDATA["Invalid 'Name and Address' value. Numbers 3, 5, 6 and 7 must be followed by a valid ISO country code."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT920_2016" formattype="SwiftFormat" >
		<description><![CDATA[This multiple message is sent by an account owner, or a financial institution (concentrating institution) acting on behalf of an account owner, to an account servicing institution.

It is used to request the account servicing institution to transmit one or more MT 940 Customer Statement(s), MT 941 Balance Report(s), MT 942 Interim Transaction Report(s), or MT 950 Statement Message(s) containing the latest information available for the account(s) identified in the message.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT920</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Request Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="12">
								<SwiftFieldDef Name="12">
									<Generic>false</Generic>
									<Description><![CDATA[Message Requested]]></Description>
									<Option Name="">
										<Format><![CDATA[(2!n1!n)]]></Format>
										<Specification><![CDATA[(Message Requested)]]></Specification>
										<Description><![CDATA[Message Requested]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Message_Requested">
										<Validation>
											<Options> </Options>
											<ErrorCode>T88</ErrorCode>
											<Comment><![CDATA[This field must contain one of the following message type numbers (Error code(s): T88) :]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="940">
														<DetailedName>Customer Statement</DetailedName>
													</Code>
													<Code Name="941">
														<DetailedName>Balance Report</DetailedName>
													</Code>
													<Code Name="942">
														<DetailedName>Interim Transaction Report</DetailedName>
													</Code>
													<Code Name="950">
														<DetailedName>Statement Message</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="25">
								<SwiftFieldDef Name="25">
									<Generic>false</Generic>
									<Description><![CDATA[Account Identification]]></Description>
									<Option Name="">
										<Format><![CDATA[35x]]></Format>
										<Specification><![CDATA[(Account)]]></Specification>
										<Description><![CDATA[Account Identification]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
							</SwiftField>
							<SwiftField Name="34FD">
								<SwiftFieldDef Name="34">
									<Generic>false</Generic>
									<Description><![CDATA[Debit/(Debit and Credit) Floor Limit Indicator]]></Description>
									<Option Name="F">
										<Format><![CDATA[3!a[1!a]15d]]></Format>
										<Specification><![CDATA[(Currency) (D/C Mark) (Amount)]]></Specification>
										<Description><![CDATA[Debit/(Debit and Credit)Floor Limit Indicator]]></Description>
									</Option>
								</SwiftFieldDef>
								<Suffix>FD</Suffix>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options>F</Options>
								<Validations>
									<SubField Name="Amount">
										<Validation>
											<Options>F</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Currency">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="D/C_Mark">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[When D/C Mark is present, it must contain the following code (Error code(s): T51):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
														<Description>Debit floor limit</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="34FC">
								<SwiftFieldDef Name="34">
									<Generic>false</Generic>
									<Description><![CDATA[Credit Floor Limit Indicator]]></Description>
									<Option Name="F">
										<Format><![CDATA[3!a[1!a]15d]]></Format>
										<Specification><![CDATA[(Currency) (D/C Mark) (Amount)]]></Specification>
										<Description><![CDATA[Credit Floor Limit Indicator]]></Description>
									</Option>
								</SwiftFieldDef>
								<Suffix>FC</Suffix>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options>F</Options>
								<Validations>
									<SubField Name="Currency">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Amount">
										<Validation>
											<Options>F</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="D/C_Mark">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[D/C Mark must contain the following code (Error code(s): T51) :]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
														<Description>Credit floor limit</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
						</Fields>
					</SwiftSequence>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1</name>
						<fieldname>A</fieldname>
						<comment><![CDATA[C1
If field 12 contains the value '942', at least field 34F Debit/(Debit and Credit) Floor Limit Indicator must be present in the same repetitive sequence (Error code(s): C22).]]></comment>
						<formula><![CDATA[If(A.F12[0].Message_Requested == "942", 
   A.F34FD.$size > 0, 
   true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C22</error-code>
						<actionmessage><![CDATA["If field 12 contains the value '942', at least field 34F Debit/(Debit and Credit) Floor Limit Indicator must be present in the same repetitive sequence (Error code(s): C22)."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2</name>
						<fieldname>A</fieldname>
						<comment><![CDATA[C2
Within each repetitive sequence, when only one field 34F is present, the second subfield must not be used. When both fields 34F are present, subfield 2 of the first 34F must contain the value 'D', and subfield 2 of the second 34F must contain the value 'C' (Error code(s): C23).]]></comment>
						<formula><![CDATA[If(A.F34FD.$size > 0 && A.F34FC.$size == 0, 
	// only one is present => the second subfield must not be used
    IsNull(A.F34FD[0].D_C_Mark), true)
 && 
  // When both fields 34F are present, 
  If(A.F34FD.$size > 0 && A.F34FC.$size > 0, 
  
	   // subfield 2 of the first 34F must contain the value 'D', 
	   IsNotNull(A.F34FD[0].D_C_Mark) && A.F34FD[0].D_C_Mark == "D" && 
	   
	   // and subfield 2 of the second 34F must contain the value 'C'   
       IsNotNull(A.F34FC[0].D_C_Mark) && A.F34FC[0].D_C_Mark == "C", 
     true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C23</error-code>
						<actionmessage><![CDATA["Within each repetitive sequence, when only one field 34F is present, the second subfield must not be used. When both fields 34F are present, subfield 2 of the first 34F must contain the value 'D', and subfield 2 of the second 34F must contain the value 'C'"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C3</name>
						<fieldname>A</fieldname>
						<comment><![CDATA[C3
The currency code must be the same for each occurrence of field 34F within each repetitive sequence (Error code(s): C40). ]]></comment>
						<formula><![CDATA[If(A.F34FC.$size > 0 && A.F34FD.$size > 0, 
   A.F34FC[0].Currency == A.F34FD[0].Currency, 
   true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C40</error-code>
						<actionmessage><![CDATA["The currency code must be the same for each occurrence of field 34F within each repetitive sequence"]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT935_2016" formattype="SwiftFormat" >
		<description><![CDATA[This multiple message is used by the Sender to advise interest rate change(s) to the Receiver.

It is used to advise the details of:

a) General interest rate change(s).

b) Interest rate change(s) which apply to specific account(s), other than call/notice loan/deposit account(s), serviced by the Sender of the message for the Receiver.

Interest rate change(s) that can be advised by this message type include: NOTICE, CALL, PRIME, COMMERCIAL, BASE, CURRENT and DEPOSIT.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT935</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Rate Change Advice</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Sequence A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="23">
								<SwiftFieldDef Name="23">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[3!a[2!n]11x]]></Format>
										<Specification><![CDATA[(Currency) (Number of Days) (Function)]]></Specification>
										<Description><![CDATA[Further Identification]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Function">
										<Validation>
											<Enabled>false</Enabled>
											<Options> </Options>
											<ErrorCode>T12</ErrorCode>
											<Comment><![CDATA[Function must contain one of the following codes identifying the function of the message: (This is not a NVR)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="BASE">
														<Description>Used to advise a change in the base rate</Description>
													</Code>
													<Code Name="CALL">
														<Description>Used to advise a change in the call rate</Description>
													</Code>
													<Code Name="COMMERCIAL">
														<Description>Used to advise a change in the commercial rate</Description>
													</Code>
													<Code Name="CURRENT">
														<Description>Used to advise a change in the interest rate applicable to current accounts</Description>
													</Code>
													<Code Name="DEPOSIT">
														<Description>Used to advise a change in the interest rate applicable to deposits</Description>
													</Code>
													<Code Name="NOTICE">
														<Description>Used to advise a change in the notice rate</Description>
													</Code>
													<Code Name="PRIME">
														<Description>Used to advise a change in the prime rate</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="25">
								<SwiftFieldDef Name="25">
									<Generic>false</Generic>
									<Description><![CDATA[Account Identification]]></Description>
									<Option Name="">
										<Format><![CDATA[35x]]></Format>
										<Specification><![CDATA[(Account)]]></Specification>
										<Description><![CDATA[Account Identification]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
							</SwiftField>
							<SwiftField Name="30">
								<SwiftFieldDef Name="30">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6!n]]></Format>
										<Specification><![CDATA[(Date)]]></Specification>
										<Description><![CDATA[Effective Date of New Rate]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="37H">
								<SwiftFieldDef Name="37">
									<Generic>false</Generic>
									<Option Name="H">
										<Format><![CDATA[1!a[N]12d]]></Format>
										<Specification><![CDATA[(Indicator)(Sign)( Rate)]]></Specification>
										<Description><![CDATA[New Interest Rate]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>true</Repeating>
								<Presence>M</Presence>
								<Options>H</Options>
								<Validations>
									<SubField Name="Indicator">
										<Validation>
											<Options>H</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[Indicator must contain one of the following codes (Error code(s): T51)]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
														<Description>The new interest rate is a credit rate</Description>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
														<Description>The new interest rate is a debit rate.</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Rate">
										<Validation>
											<Options>H</Options>
											<ErrorCode>T14</ErrorCode>
											<Comment><![CDATA[Sign must not be used if Rate is zero (Error code(s): T14).]]></Comment>
											<ValidationPattern xsi:type="T14" Type="T14">
												<Type>T14</Type>
												<sign-field>Sign</sign-field>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
						</Fields>
					</SwiftSequence>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[A.$size <= 10]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T10</error-code>
						<actionmessage><![CDATA["The repetitive sequence must appear at least once, but not more than ten times."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2</name>
						<fieldname>A</fieldname>
						<formula><![CDATA[If(A.F23.$size > 0, A.F25.$size == 0, A.F25.$size > 0)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C83</error-code>
						<actionmessage><![CDATA["Either field 23 or field 25, but not both, must be present in any repetitive sequence."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationStructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT940_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution), which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit detailed information about all entries booked to the account. 

NOTE:
Please do not disable the validation 'DC-FIX'. It provides fix for the parsing problem in field 61.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT940</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Customer Statement Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25a">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
							<Option Name="P">
								<Format><![CDATA[35x(CRLF4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> , P</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>P</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="28C">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Option Name="C">
								<Format><![CDATA[5n[/5n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C</Options>
					</SwiftField>
					<SwiftField Name="60a">
						<SwiftFieldDef Name="60">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency)(Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency)(Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F, M</Options>
						<Validations>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[In option F, or M, D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The (intermediate) opening balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The (intermediate) opening balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for that specific currency as specified in ISO 4217 (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Sequence A]]></Description>
						<Mandatory>false</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="61">
								<SwiftFieldDef Name="61">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6!n[4!n]2a[1!a]15d(1!a)(3!c)16x[//16x][CRLF34x]]]></Format>
										<Specification><![CDATA[(Value Date)(Entry Date)(Debit/Credit Mark)(Funds Code)(Amount)(Transaction Type)(Identification Code)(Reference for the Account Owner)(Account Servicing Institution's Reference)(Supplementary Details)]]></Specification>
										<Description><![CDATA[Statement Line]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Value_Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Subfield 1 ,Value Date, must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Debit/Credit_Mark">
										<Validation>
											<Options> </Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[Subfield 3, Debit/Credit Mark, must contain one of the following codes (Error code(s): T51):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
													<Code Name="RC">
														<DetailedName>Reversal of Credit (debit entry)</DetailedName>
													</Code>
													<Code Name="RD">
														<DetailedName>Reversal of Debit (credit entry)</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Entry_Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[The SWIFT System validates subfield 2 ,Entry Date (Date in reduced ISO form), using current System Year (Error code(s): T50)]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>MMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Transaction_Type">
										<Validation>
											<Options> </Options>
											<ErrorCode>T53</ErrorCode>
											<Comment><![CDATA[In subfield 6, Transaction Type must contain one of the following codes (Error code(s): T53):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="S">
														<DetailedName>SWIFT transfer</DetailedName>
														<Description>For entries related to SWIFT transfer instructions and subsequent charge messages . The last three characters will indicate the message type of the SWIFT message causing the entry (for debit entries) or the message type of the SWIFT message used to advise the account owner (for credit entries).</Description>
													</Code>
													<Code Name="N">
														<DetailedName>Non-SWIFT transfer</DetailedName>
														<Description>For entries related to payment and transfer instructions, including related charges messages, not sent through SWIFT or where an alpha description is preferred. The last three characters, ie, 3!c, may contain a code.</Description>
													</Code>
													<Code Name="F">
														<DetailedName>First advice</DetailedName>
														<Description>For entries being first advised by the statement (items originated by the account servicing institution). The last three characters, ie, 3!c, may contain a code.</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="86">
								<SwiftFieldDef Name="86">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6*65x]]></Format>
										<Specification><![CDATA[(Narrative)]]></Specification>
										<Description><![CDATA[Information to Account Owner]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
					<SwiftField Name="62a">
						<SwiftFieldDef Name="62">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency)(Amount)]]></Specification>
								<Description><![CDATA[Closing Balance (Booked Funds)]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency)(Amount)]]></Specification>
								<Description><![CDATA[Closing Balance (Booked Funds)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>M, F</Options>
						<Validations>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[In option F, or M, D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The (intermediate) closing balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The (intermediate) closing balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for that specific currency as specified in ISO 4217 (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="64">
						<SwiftFieldDef Name="64">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Available Balance (Available Funds)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The closing available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The closing available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for that specific currency as specified in ISO 4217 (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="65">
						<SwiftFieldDef Name="65">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Forward Available Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>true</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The forward available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The forward available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for that specific currency as specified in ISO 4217 (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="86">
						<SwiftFieldDef Name="86">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*65x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Information to Account Owner]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1</name>
						<fieldname>A.86</fieldname>
						<formula><![CDATA[A.F61.$size > 0]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C24</error-code>
						<actionmessage><![CDATA["If field 86 is present in any occurrence of the repetitive sequence, it must be preceded by a field 61."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-1</name>
						<fieldname>62a.Currency</fieldname>
						<formula><![CDATA[Left($value, 2) == Left(F60a[0].Currency, 2)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-2</name>
						<fieldname>64.Currency</fieldname>
						<formula><![CDATA[Left($value, 2) == Left(F60a[0].Currency, 2)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2-3</name>
						<fieldname>65.Currency</fieldname>
						<formula><![CDATA[Left($value, 2) == Left(F60a[0].Currency, 2)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FA-61-A</name>
						<fieldname>A.61.Transaction_Type</fieldname>
						<formula><![CDATA[Implies($value == "S", Between(ToInt(A.F61.Identification_Code), 100, 999))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 61 of sequence A, if subfield 6, Transaction Type, is 'S', then Identification_Code must be in the range 100-999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>DC-FIX</name>
						<fieldname>A.61</fieldname>
						<comment><![CDATA[db2admin:
This validation should not be disabled. This provides fix for the parsing problem in field 61.]]></comment>
						<formula><![CDATA[$dc = A.F61.Debit_Credit_Mark;
$shouldFix = Length($dc) == 2 && !In($dc, "RD", "RC") && 
               IsNull(A.F61.Funds_Code);
If($shouldFix, Set(A.F61.Funds_Code, Right($dc, 1)));
If($shouldFix, Set(A.F61.Debit_Credit_Mark, Left($dc, 1)));
true;]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>DC-FIX</error-code>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-1</name>
						<fieldname>A.61.Supplementary_Details</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>A.86.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-3</name>
						<fieldname>86.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT941_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution), which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit balance information, reflecting the situation at the identified time in field 13D.
]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT941</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Balance Report</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number (TRN)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive  slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Related Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Related_Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive  slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25a">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
							<Option Name="P">
								<Format><![CDATA[35x(CRLF4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> , P</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>P</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="28">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Description><![CDATA[Page Number/Continuation Indicator]]></Description>
							<Option Name="">
								<Format><![CDATA[5n[/2n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="13D">
						<SwiftFieldDef Name="13">
							<Generic>false</Generic>
							<Description><![CDATA[Number Identification]]></Description>
							<Option Name="D">
								<Format><![CDATA[6!n4!n1!x4!n]]></Format>
								<Specification><![CDATA[(Date) (Time) (Sign) (Offset)]]></Specification>
								<Description><![CDATA[Date/Time Indication]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Time">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T38</ErrorCode>
									<Comment><![CDATA[Time must be a valid time expressed as HHMM (Error code(s): T38).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>HHmm</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Offset">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T16</ErrorCode>
									<Comment><![CDATA[Time offset is expressed as HHMM, where the hour component, ie, 'HH', must be in the range of 00 through 13,and the minute component, ie, 'MM' must be in the range of 00 through 59. Any 'HH' or 'MM' component outside of these range checks will be disallowed.]]></Comment>
									<ValidationPattern xsi:type="Time_Offset" Type="Time Offset">
										<Type>Time Offset</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Sign">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T15</ErrorCode>
									<Comment><![CDATA[Sign is either "+" or "-" (Error code(s): T15).]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="+">
											</Code>
											<Code Name="-">
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="60F">
						<SwiftFieldDef Name="60">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[ (D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>F</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The opening balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The opening balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="90D">
						<SwiftFieldDef Name="90">
							<Generic>false</Generic>
							<Description><![CDATA[Price]]></Description>
							<Option Name="D">
								<Format><![CDATA[5n3!a15d]]></Format>
								<Specification><![CDATA[(Number) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Number and Sum of Entries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>D</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="90C">
						<SwiftFieldDef Name="90">
							<Generic>false</Generic>
							<Description><![CDATA[Price]]></Description>
							<Option Name="C">
								<Format><![CDATA[5n3!a15d]]></Format>
								<Specification><![CDATA[(Number) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Number and Sum of Entries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>C</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>C</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>C</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="62F">
						<SwiftFieldDef Name="62">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Book Balance ]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The book balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The book balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="64">
						<SwiftFieldDef Name="64">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Available Balance (Available Funds)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The closing available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The closing available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="65">
						<SwiftFieldDef Name="65">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Forward Available Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>true</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The forward available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The forward available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="86">
						<SwiftFieldDef Name="86">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*65x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Information to Account Owner]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>60F.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>90D.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-3</name>
						<fieldname>90C.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-4</name>
						<fieldname>64.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-5</name>
						<fieldname>65.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60F, 90D, 90C, 62F, 64 and 65 must be the same for all occurrences of these fields."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT942_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by an account servicing institution (reporting institution) to a financial institution (concentrating institution) which has been authorised by the account owner to receive it . 

b) sent by an account servicing institution (reporting institution) to a financial institution account owner. 

c) sent by an account servicing institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

d) sent by a concentrating institution to a non-financial institution account owner or party authorised by the account owner to receive the information. 

It is used to transmit detailed and/or summary information about entries debited or credited to the account since: 

a) the last statement or balance report, or 

b) the last interim transaction report (sent in the period since the last statement or balance report). 
]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT942</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Interim Transaction Report</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(TRN)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="TRN">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Related Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Related_Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25a">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
							<Option Name="P">
								<Format><![CDATA[35x(CRLF4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(Account)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> , P</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>P</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC (Error code(s): T27,T28,T29,T45).]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="28C">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Option Name="C">
								<Format><![CDATA[5n[/5n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C</Options>
					</SwiftField>
					<SwiftField Name="34F">
						<SwiftFieldDef Name="34">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[3!a[1!a]15d]]></Format>
								<Specification><![CDATA[(Currency) (D/C Mark) (Amount)]]></Specification>
								<Description><![CDATA[Debit/(Debit and Credit)Floor Limit Indicator]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[When D/C Mark is present, it must contain the following code (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>Debit floor limit</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="34F1">
						<SwiftFieldDef Name="34">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[3!a[1!a]15d]]></Format>
								<Specification><![CDATA[(Currency) (D/C Mark) (Amount)]]></Specification>
								<Description><![CDATA[Credit Floor Limit Indicator]]></Description>
							</Option>
						</SwiftFieldDef>
						<Suffix>F1</Suffix>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>F</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain the following code (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>Credit floor limit</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="13D">
						<SwiftFieldDef Name="13">
							<Generic>false</Generic>
							<Description><![CDATA[Number Identification]]></Description>
							<Option Name="D">
								<Format><![CDATA[6!n4!n1!x4!n]]></Format>
								<Specification><![CDATA[(Date) (Time) (Sign) (Offset)]]></Specification>
								<Description><![CDATA[Date/Time Indication]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Time">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T38</ErrorCode>
									<Comment><![CDATA[Time must be a valid time expressed as HHMM (Error code(s): T38).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>HHmm</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Sign">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T15</ErrorCode>
									<Comment><![CDATA[Sign is either "+" or "-" (Error code(s): T15).]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="+">
											</Code>
											<Code Name="-">
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Offset">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T16</ErrorCode>
									<Comment><![CDATA[Time offset is expressed as 'HHMM', where the hour component, ie, 'HH', must be in the range of 00 through 13, and the minute component, ie, 'MM' must be in the range of 00 through 59. Any 'HH' or 'MM' component outside of these range checks will be disallowed (Error code(s): T16).]]></Comment>
									<ValidationPattern xsi:type="Time_Offset" Type="Time Offset">
										<Type>Time Offset</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[Sequence A]]></Description>
						<Mandatory>false</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="61">
								<SwiftFieldDef Name="61">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6!n[4!n]2a[1!a]15d(1!a)(3!c)16x[//16x][CRLF34x]]]></Format>
										<Specification><![CDATA[(Value Date)(Entry Date)(Debit/Credit Mark)(Funds Code)(Amount)(Transaction Type)(Identification Code)(Reference for the Account Owner)(Account Servicing Institution's Reference)(Supplementary Details)]]></Specification>
										<Description><![CDATA[Statement Line]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="Value_Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Subfield 1 ,Value Date, must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Debit/Credit_Mark">
										<Validation>
											<Options> </Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[Subfield 3 Debit/Credit Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<DetailedName>Credit</DetailedName>
													</Code>
													<Code Name="D">
														<DetailedName>Debit</DetailedName>
													</Code>
													<Code Name="EC">
														<DetailedName>Expected Credit</DetailedName>
													</Code>
													<Code Name="ED">
														<DetailedName>Expected Debit</DetailedName>
													</Code>
													<Code Name="RC">
														<DetailedName>Reversal of Credit (debit entry)</DetailedName>
													</Code>
													<Code Name="RD">
														<DetailedName>Reversal of Debit (credit entry)</DetailedName>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Entry_Date">
										<Validation>
											<Options> </Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[The SWIFT System validates subfield 2 ,Entry Date (Date in reduced ISO form), using current System Year (Error code(s): T50).]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>MMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Transaction_Type">
										<Validation>
											<Options> </Options>
											<ErrorCode>T53</ErrorCode>
											<Comment><![CDATA[In subfield 6, Transaction Type must contain one of the following codes (Error code(s): T53):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="S">
														<DetailedName>SWIFT transfer</DetailedName>
														<Description>For entries related to SWIFT transfer instructions and subsequent charge messages . The last three characters will indicate the message type of the SWIFT message causing the entry (for debit entries) or the message type of the SWIFT message used to advise the account owner (for credit entries).</Description>
													</Code>
													<Code Name="N">
														<DetailedName>Non-SWIFT transfer</DetailedName>
														<Description>For entries related to payment and transfer instructions, including related charges messages, not sent through SWIFT or where an alpha description is preferred. The last three characters, ie, 3!c, may contain a code.</Description>
													</Code>
													<Code Name="F">
														<DetailedName>First advice</DetailedName>
														<Description>For entries being first advised by the statement (items originated by the account servicing institution). The last three characters, ie, 3!c, may contain a code.</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="86">
								<SwiftFieldDef Name="86">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[6*65x]]></Format>
										<Specification><![CDATA[(Narrative)]]></Specification>
										<Description><![CDATA[Information to Account Owner]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>O</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
					<SwiftField Name="90D">
						<SwiftFieldDef Name="90">
							<Generic>false</Generic>
							<Description><![CDATA[Price]]></Description>
							<Option Name="D">
								<Format><![CDATA[5n3!a15d]]></Format>
								<Specification><![CDATA[(Number) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Number and Sum of Entries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>D</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>D</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>D</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="90C">
						<SwiftFieldDef Name="90">
							<Generic>false</Generic>
							<Description><![CDATA[Price]]></Description>
							<Option Name="C">
								<Format><![CDATA[5n3!a15d]]></Format>
								<Specification><![CDATA[(Number) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Number and Sum of Entries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>C</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>C</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>C</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="86">
						<SwiftFieldDef Name="86">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*65x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Information to Account Owner]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>FA-61-A</name>
						<fieldname>A.61.Transaction_Type</fieldname>
						<formula><![CDATA[Implies($value == "S", Between(ToInt(A.F61.Identification_Code), 100, 999))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 61 of sequence A, if subfield 6, Transaction Type, is 'S', then Identification_Code must be in the range 100-999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>DC-FIX</name>
						<fieldname>A.61</fieldname>
						<comment><![CDATA[This validation should not be disabled. This provides fix for the parsing problem in field 61.]]></comment>
						<formula><![CDATA[$dc = A.F61.Debit_Credit_Mark;
$shouldFix = Length($dc) == 2 && !In($dc, "RD", "RC", "ED", "EC") && 
               IsNull(A.F61.Funds_Code);
If($shouldFix, Set(A.F61.Funds_Code, Right($dc, 1)));
If($shouldFix, Set(A.F61.Debit_Credit_Mark, Left($dc, 1)));
true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>DC-FIX</error-code>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>34F1.Currency</fieldname>
						<formula><![CDATA[StartsWith($value, Left(F34F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 34F, 90D, and 90C must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>90D.Currency</fieldname>
						<formula><![CDATA[StartsWith($value, Left(F34F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 34F, 90D, and 90C must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-3</name>
						<fieldname>90C.Currency</fieldname>
						<formula><![CDATA[StartsWith($value, Left(F34F[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 34F, 90D, and 90C must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C2</name>
						<formula><![CDATA[If(F34F1.$size == 0, 
   IsNull(F34F[0].D_C_Mark), 
   (IsNotNull(F34F[0].D_C_Mark) && F34F[0].D_C_Mark == "D") && 
     (IsNotNull(F34F1[0].D_C_Mark) && 
        F34F1[0].D_C_Mark == "C"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C23</error-code>
						<actionmessage><![CDATA["When only one field 34F is present, the second subfield must not be used. When both fields 34F are present, subfield 2 of the first 34F must contain the value 'D', and subfield 2 of the second 34F must contain the value 'C'."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-1</name>
						<fieldname>A.61.Supplementary_Details</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-2</name>
						<fieldname>A.86.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI-3</name>
						<fieldname>86.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT950_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by an account servicing institution to an account owner. 

It is used to transmit detailed information about all entries, whether or not caused by a S.W.I.F.T. message, booked to the account.

NOTE:
Please do not disable the validation 'DC-FIX'. It provides fix for the parsing problem in field 61.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT950</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Statement Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number (TRN)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive  slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Status]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="28C">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Option Name="C">
								<Format><![CDATA[5n[/5n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C</Options>
					</SwiftField>
					<SwiftField Name="60a">
						<SwiftFieldDef Name="60">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[ (D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>M, F</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[In option F, or M, D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The (intermediate) opening balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The (intermediate) opening balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="61">
						<SwiftFieldDef Name="61">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6!n[4!n]2a[1!a]15d(1!a)(3!c)16x[//16x][CRLF34x]]]></Format>
								<Specification><![CDATA[(Value Date)(Entry Date)(Debit/Credit Mark)(Funds Code)(Amount)(Transaction Type) (Identification Code)(Reference for the Account Owner)(Account Servicing Institution's Reference)(Supplementary Details)]]></Specification>
								<Description><![CDATA[Statement Line]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>true</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Value_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Subfield 1, Value Date, must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Debit/Credit_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[Subfield 3, Debit/Credit Mark, must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>Credit</Description>
											</Code>
											<Code Name="D">
												<Description>Debit</Description>
											</Code>
											<Code Name="RC">
												<Description>Reversal of credit (debit entry)</Description>
											</Code>
											<Code Name="RD">
												<Description>Reversal of debit (credit entry)</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Entry_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[The SWIFT System validates subfield 2 ,Entry Date (Date in reduced ISO form), using current System Year (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>MMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Transaction_Type">
								<Validation>
									<Options> </Options>
									<ErrorCode>T53</ErrorCode>
									<Comment><![CDATA[In subfield 6, Transaction Type must contain one of the following codes (Error code(s): T53):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="S">
												<DetailedName>SWIFT transfer</DetailedName>
												<Description>For entries related to SWIFT transfer instructions and subsequent charge messages . The last three characters will indicate the message type of the SWIFT message causing the entry (for debit entries) or the message type of the SWIFT message used to advise the account owner (for credit entries).</Description>
											</Code>
											<Code Name="N">
												<DetailedName>Non-SWIFT transfer</DetailedName>
												<Description>For entries related to payment and transfer instructions, including related charges messages, not sent through SWIFT or where an alpha description is preferred. The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
											<Code Name="F">
												<DetailedName>First advice</DetailedName>
												<Description>For entries being first advised by the statement (items originated by the account servicing institution). The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="62a">
						<SwiftFieldDef Name="62">
							<Generic>false</Generic>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance (Booked Funds)]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance (Booked Funds)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>M, F</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[In option F, or M, D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The (intermediate) closing balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The (intermediate) closing balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="64">
						<SwiftFieldDef Name="64">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Available Balance (Available Funds)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
												<Description>The closing available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
												<Description>The closing available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency(Error code(s): C03,T40,T43).]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>62a.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F60a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>64.Currency</fieldname>
						<comment><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same."]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F60a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FA-61-A</name>
						<fieldname>61.Transaction_Type</fieldname>
						<formula><![CDATA[Implies($value == "S", Between(ToInt(F61.Identification_Code), 100, 999))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 61, if subfield 6, Transaction Type, is 'S', then Identification_Code must be in the range 100-999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>DC-FIX</name>
						<fieldname>61</fieldname>
						<comment><![CDATA[db2admin:
This validation should not be disabled. This provides fix for the parsing problem in field 61.]]></comment>
						<formula><![CDATA[$dc = F61.Debit_Credit_Mark;
$shouldFix = Length($dc) == 2 && !In($dc, "RD", "RC") && 
               IsNull(F61.Funds_Code);
If($shouldFix, Set(F61.Funds_Code, Right($dc, 1)));
If($shouldFix, Set(F61.Debit_Credit_Mark, Left($dc, 1)));
true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>DC-FIX</error-code>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT970_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent at pre-arranged times from a netting system to a subscriber to the netting system.

It is used to provide detailed information about all the transactions which have been recorded by the netting system involving the receiving financial institution.

All transactions are reported once only in an MT 970 Netting Statement.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT970</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Netting Statement</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="28C">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							<Option Name="C">
								<Format><![CDATA[5n[/5n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C</Options>
					</SwiftField>
					<SwiftField Name="60a">
						<SwiftFieldDef Name="60">
							<Generic>false</Generic>
							<Description><![CDATA[Opening Balance]]></Description>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F, M</Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The (intermediate) opening balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The (intermediate) opening balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="61">
						<SwiftFieldDef Name="61">
							<Generic>false</Generic>
							<Description><![CDATA[Statement Line]]></Description>
							<Option Name="">
								<Format><![CDATA[6!n[4!n]2a[1!a]15d(1!a)(3!c)16x[//16x][CRLF34x]]]></Format>
								<Specification><![CDATA[(Value Date)(Entry Date)(Debit/Credit Mark)(Funds Code)(Amount)(Transaction Type) (Identification Code)(Reference for the Account Owner)(Account Servicing Institution's Reference)(Supplementary Details)]]></Specification>
								<Description><![CDATA[Statement Line]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>true</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Value_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Value Date, must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Entry_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[The SWIFT System validates Entry Date (Date in reduced ISO form), using current System Year (Error code(s):T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>MMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Debit/Credit_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[Debit/Credit Mark, must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
											<Code Name="RC">
												<DetailedName>Reversal of credit (debit entry)</DetailedName>
											</Code>
											<Code Name="RD">
												<DetailedName>Reversal of debit (credit entry)</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Transaction_Type">
								<Validation>
									<Options> </Options>
									<ErrorCode>T53</ErrorCode>
									<Comment><![CDATA[Subfield 6 Transaction Type Identification Code must contain one of the following codes (Error code(s): T53):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="S">
												<DetailedName>3!n</DetailedName>
												<Description>For entries related to SWIFT transfer instructions and subsequent charge messages . The last three characters will indicate the message type of the SWIFT message causing the entry (for debit entries) or the message type of the SWIFT message used to advise the account owner (for credit entries)</Description>
											</Code>
											<Code Name="N">
												<DetailedName>3!c</DetailedName>
												<Description>For entries related to payment and transfer instructions, including related charges messages, not sent through SWIFT or where an alpha description is preferred. The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
											<Code Name="F">
												<DetailedName>3!c</DetailedName>
												<Description>For entries being first advised by the statement (items originated by the account servicing institution). The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="62a">
						<SwiftFieldDef Name="62">
							<Generic>false</Generic>
							<Description><![CDATA[Closing Balance]]></Description>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F, M</Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The (intermediate) closing balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The (intermediate) closing balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="64">
						<SwiftFieldDef Name="64">
							<Generic>false</Generic>
							<Description><![CDATA[Closing Available Balance]]></Description>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Available Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The closing available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The closing available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>FA-61-A</name>
						<fieldname>61.Transaction_Type</fieldname>
						<formula><![CDATA[Implies($value == "S", Between(ToInt(F61.Identification_Code), 100, 999))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 61, if subfield 6, Transaction Type, is 'S', then Identification_Code must be in the range 100-999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>60a.Currency</fieldname>
						<comment><![CDATA[C1-1
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same (Error code(s): C27).]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>62a.Currency</fieldname>
						<comment><![CDATA[C1-2
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same (Error code(s): C27).
]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-3</name>
						<fieldname>64.Currency</fieldname>
						<comment><![CDATA[C1-3
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same (Error code(s): C27).
]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>DC-FIX</name>
						<fieldname>61</fieldname>
						<comment><![CDATA[This validation should not be disabled. This provides fix for the parsing problem in field 61.
]]></comment>
						<formula><![CDATA[$dc = F61.Debit_Credit_Mark;
$shouldFix = Length($dc) == 2 && !In($dc, "RD", "RC") && 
IsNull(F61.Funds_Code);
If($shouldFix, Set(F61.Funds_Code, Right($dc, 1)));
If($shouldFix, Set(F61.Debit_Credit_Mark, Left($dc, 1)));
true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>DC-FIX</error-code>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT971_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent, on request or at pre-arranged times, from a netting system to a subscriber to the netting system and to other authorised receivers.

It is used to advise the netting balance(s), at the time of transmission, for one or more financial institutions.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT971</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Netting Balance Report</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="25">
								<SwiftFieldDef Name="25">
									<Generic>false</Generic>
									<Description><![CDATA[Account Identification]]></Description>
									<Option Name="">
										<Format><![CDATA[35x]]></Format>
										<Specification><![CDATA[(Account)]]></Specification>
										<Description><![CDATA[Account Identification]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
							</SwiftField>
							<SwiftField Name="62F">
								<SwiftFieldDef Name="62">
									<Generic>false</Generic>
									<Description><![CDATA[Final Closing Balance]]></Description>
									<Option Name="F">
										<Format><![CDATA[1!a6!n3!a15d]]></Format>
										<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
										<Description><![CDATA[Final Closing Balance]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options>F</Options>
								<Validations>
									<SubField Name="Amount">
										<Validation>
											<Options>F</Options>
											<ErrorCode>C03</ErrorCode>
											<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
											<ValidationPattern xsi:type="Decimal" Type="Decimal">
												<Type>Decimal</Type>
												<currency-field>Currency</currency-field>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Currency">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T52</ErrorCode>
											<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
											<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
												<Type>Currency Code</Type>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="D/C_Mark">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T51</ErrorCode>
											<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="C">
														<Description>The final closing balance is a credit balance.</Description>
													</Code>
													<Code Name="D">
														<Description>The final closing balance is a debit balance.</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
									<SubField Name="Date">
										<Validation>
											<Options>F</Options>
											<ErrorCode>T50</ErrorCode>
											<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
											<ValidationPattern xsi:type="DATE" Type="DATE">
												<Type>DATE</Type>
												<Format>yyMMdd</Format>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
						</Fields>
					</SwiftSequence>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT972_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent, on request or at pre-arranged times, from a netting system to a subscriber to the netting system.

It is used to provide detailed information about transactions which have been recorded by the netting system involving the receiving financial institution.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT972</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Netting Interim Statement</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number (TRN)]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number (TRN)]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Account Identification]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="28C">
						<SwiftFieldDef Name="28">
							<Generic>false</Generic>
							<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							<Option Name="C">
								<Format><![CDATA[5n[/5n]]]></Format>
								<Specification><![CDATA[(Statement Number) (Sequence Number)]]></Specification>
								<Description><![CDATA[Statement Number/Sequence Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C</Options>
					</SwiftField>
					<SwiftField Name="60a">
						<SwiftFieldDef Name="60">
							<Generic>false</Generic>
							<Description><![CDATA[Opening Balance]]></Description>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Opening Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F, M</Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The (intermediate) opening balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The (intermediate) opening balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="61">
						<SwiftFieldDef Name="61">
							<Generic>false</Generic>
							<Description><![CDATA[Statement Line]]></Description>
							<Option Name="">
								<Format><![CDATA[6!n[4!n]2a[1!a]15d(1!a)(3!c)16x[//16x][CRLF34x]]]></Format>
								<Specification><![CDATA[(Value Date)(Entry Date)(Debit/Credit Mark)(Funds Code)(Amount)(Transaction Type) (Identification Code)(Reference for the Account Owner)(Account Servicing Institution's Reference)(Supplementary Details)]]></Specification>
								<Description><![CDATA[Statement Line]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>true</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Debit/Credit_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[Debit/Credit Mark, must contain one of the following codes (Error code(s): T51):]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="RC">
												<DetailedName>Reversal of credit (debit entry)</DetailedName>
											</Code>
											<Code Name="RD">
												<DetailedName>Reversal of debit (credit entry)</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Value_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Value Date, must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Entry_Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[The SWIFT System validates Entry Date (Date in reduced ISO form), using current System Year (Error code(s):T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>MMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Transaction_Type">
								<Validation>
									<Options> </Options>
									<ErrorCode>T53</ErrorCode>
									<Comment><![CDATA[Subfield 6 Transaction Type Identification Code must contain one of the following codes (Error code(s): T53)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="S">
												<DetailedName>3!n</DetailedName>
												<Description>For entries related to SWIFT transfer instructions and subsequent charge messages . The last three characters will indicate the message type of the SWIFT message causing the entry (for debit entries) or the message type of the SWIFT message used to advise the account owner (for credit entries).</Description>
											</Code>
											<Code Name="N">
												<DetailedName>3!c</DetailedName>
												<Description>For entries related to payment and transfer instructions, including related charges messages, not sent through SWIFT or where an alpha description is preferred. The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
											<Code Name="F">
												<DetailedName>3!c</DetailedName>
												<Description>For entries being first advised by the statement (items originated by the account servicing institution). The last three characters, ie, 3!c, may contain a code.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="62a">
						<SwiftFieldDef Name="62">
							<Generic>false</Generic>
							<Description><![CDATA[Closing Balance]]></Description>
							<Option Name="F">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance]]></Description>
							</Option>
							<Option Name="M">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>F, M</Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The (intermediate) closing balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The (intermediate) closing balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options>F, M</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="64">
						<SwiftFieldDef Name="64">
							<Generic>false</Generic>
							<Description><![CDATA[Closing Available Balance]]></Description>
							<Option Name="">
								<Format><![CDATA[1!a6!n3!a15d]]></Format>
								<Specification><![CDATA[(D/C Mark) (Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Closing Available Balance]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Amount">
								<Validation>
									<Options> </Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency (Error code(s): C03, T40, T43) .]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options> </Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52) .]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="D/C_Mark">
								<Validation>
									<Options> </Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[D/C Mark must contain one of the following codes (Error code(s): T51) :]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<Description>The closing available balance is a credit balance.</Description>
											</Code>
											<Code Name="D">
												<Description>The closing available balance is a debit balance.</Description>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Date">
								<Validation>
									<Options> </Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50) .]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>FA-61-A</name>
						<fieldname>61.Transaction_Type</fieldname>
						<formula><![CDATA[Implies($value == "S", Between(ToInt(F61.Identification_Code), 100, 999))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 61, if subfield 6, Transaction Type, is 'S', then Identification_Code must be in the range 100-999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-1</name>
						<fieldname>60a.Currency</fieldname>
						<comment><![CDATA[C1-1
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-2</name>
						<fieldname>62a.Currency</fieldname>
						<comment><![CDATA[C1-2
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1-3</name>
						<fieldname>64.Currency</fieldname>
						<comment><![CDATA[C1-3
The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same
]]></comment>
						<formula><![CDATA[StartsWith($value, Left(F62a[0].Currency, 2))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C27</error-code>
						<actionmessage><![CDATA["The first two characters of the three character currency code in fields 60a, 62a and 64 must be the same "]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>DC-FIX</name>
						<fieldname>61</fieldname>
						<comment><![CDATA[This validation should not be disabled. This provides fix for the parsing problem in field 61.
]]></comment>
						<formula><![CDATA[$dc = F61.Debit_Credit_Mark;
$shouldFix = Length($dc) == 2 && !In($dc, "RD", "RC") && 
IsNull(F61.Funds_Code);
If($shouldFix, Set(F61.Funds_Code, Right($dc, 1)));
If($shouldFix, Set(F61.Debit_Credit_Mark, Left($dc, 1)));
true;]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>DC-FIX</error-code>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT973_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by a financial institution to a netting system.

It is used to request the netting system to transmit an MT 971 Netting Balance Report, an MT 972 Netting Interim Statement or an MT 998 Proprietary Message containing the latest available information.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT973</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Netting Request Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftSequence Name="A">
						<Name>A</Name>
						<Description><![CDATA[A]]></Description>
						<Mandatory>true</Mandatory>
						<Repeating>true</Repeating>
						<Fields>
							<SwiftField Name="12">
								<SwiftFieldDef Name="12">
									<Generic>false</Generic>
									<Option Name="">
										<Format><![CDATA[(2!n1!n)]]></Format>
										<Specification><![CDATA[(MT Number)]]></Specification>
										<Description><![CDATA[Sub-Message Type]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
								<Validations>
									<SubField Name="MT_Number">
										<Validation>
											<Options> </Options>
											<ErrorCode>T88</ErrorCode>
											<Comment><![CDATA[This field must contain one of the following message type numbers (Error code(s): T88):]]></Comment>
											<ValidationPattern xsi:type="CODE" Type="CODE">
												<Type>CODE</Type>
												<Codes>
													<Code Name="971">
														<Description>Netting Balance Report</Description>
													</Code>
													<Code Name="972">
														<Description>Netting Interim Statement</Description>
													</Code>
													<Code Name="998">
														<Description>Proprietary Message</Description>
													</Code>
												</Codes>
											</ValidationPattern>
										</Validation>
									</SubField>
								</Validations>
							</SwiftField>
							<SwiftField Name="25">
								<SwiftFieldDef Name="25">
									<Generic>false</Generic>
									<Description><![CDATA[Account Identification]]></Description>
									<Option Name="">
										<Format><![CDATA[35x]]></Format>
										<Specification><![CDATA[(Account)]]></Specification>
										<Description><![CDATA[Account Identification]]></Description>
									</Option>
								</SwiftFieldDef>
								<Repeating>false</Repeating>
								<Presence>M</Presence>
								<Options> </Options>
							</SwiftField>
						</Fields>
					</SwiftSequence>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT985_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by a financial institution, to another financial institution, to request an MT 986 Status Report.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT985</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Status Enquiry</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="57a">
						<SwiftFieldDef Name="57">
							<Generic>false</Generic>
							<Description><![CDATA[Account With Institution]]></Description>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="B">
								<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
								<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, B, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI. Please refer to the latest version of the BIC Directory - Corporations for more information on BEIs. This error code applies to all types of BICs referenced in a FIN message including SWIFT BICs, non-SWIFT BICs, Masters, Synonyms, Live destinations and Test & Training destinations (Error code(s): C05) .]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, B, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="59">
						<SwiftFieldDef Name="59">
							<Generic>false</Generic>
							<Description><![CDATA[Enquired Party]]></Description>
							<Option Name="">
								<Format><![CDATA[[/34xCRLF]4*35x]]></Format>
								<Specification><![CDATA[(Account) (Name & Address)]]></Specification>
								<Description><![CDATA[Enquired Party]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="75">
						<SwiftFieldDef Name="75">
							<Generic>false</Generic>
							<Description><![CDATA[Queries]]></Description>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Queries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT986_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by a financial institution, to another financial institution, to provide general credit information, without responsibility, about an individual or an institution.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT986</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Status Report</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Transaction Reference Number]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Description><![CDATA[Related Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26) .]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="59">
						<SwiftFieldDef Name="59">
							<Generic>false</Generic>
							<Description><![CDATA[Enquired Party]]></Description>
							<Option Name="">
								<Format><![CDATA[[/34xCRLF]4*35x]]></Format>
								<Specification><![CDATA[(Account) (Name & Address)]]></Specification>
								<Description><![CDATA[Enquired Party]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Description><![CDATA[Narrative]]></Description>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT990_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by an account servicing institution to the account owner.

It is used to advise charges, interest or other adjustments which have been debited or credited to the account owner's account. It provides details of charges which are previously unknown to the Receiver.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT990</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Advice of Charges, Interest and Other Adjustments</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="25">
						<SwiftFieldDef Name="25">
							<Generic>false</Generic>
							<Description><![CDATA[Status]]></Description>
							<Option Name="">
								<Format><![CDATA[35x]]></Format>
								<Specification><![CDATA[(Account)]]></Specification>
								<Description><![CDATA[Account Identification]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="32a">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="C">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[6!n3!a15d]]></Format>
								<Specification><![CDATA[(Date) (Currency) (Amount)]]></Specification>
								<Description><![CDATA[Value Date, Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>C, D</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Currency">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>C, D</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="71B">
						<SwiftFieldDef Name="71">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Details of Charges]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT991_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is sent by a financial institution to another financial institution.

It is used to request the payment of charges, interest and/or other expenses which are previously unknown to the Receiver.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT991</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Request for Payment of Charges, Interest and Other Expenses</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="32B">
						<SwiftFieldDef Name="32">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[3!a15d]]></Format>
								<Specification><![CDATA[(Currency)(Amount)]]></Specification>
								<Description><![CDATA[Currency Code, Amount]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
						<Validations>
							<SubField Name="Currency">
								<Validation>
									<Options>B</Options>
									<ErrorCode>T52</ErrorCode>
									<Comment><![CDATA[Currency must be a valid ISO 4217 currency code (Error code(s): T52).]]></Comment>
									<ValidationPattern xsi:type="Currency_Code" Type="Currency Code">
										<Type>Currency Code</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="Amount">
								<Validation>
									<Options>B</Options>
									<ErrorCode>C03</ErrorCode>
									<Comment><![CDATA[The number of digits following the comma must not exceed the maximum number allowed for the specified currency.]]></Comment>
									<ValidationPattern xsi:type="Decimal" Type="Decimal">
										<Type>Decimal</Type>
										<currency-field>Currency</currency-field>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="52a">
						<SwiftFieldDef Name="52">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Ordering Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="57a">
						<SwiftFieldDef Name="57">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[/1!a([/34x])(CRLF4!a2!a2!c[3!c]) | [/34xCRLF](4!a2!a2!c[3!c])]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Identifier Code) | (Party Identifier)(Identifier Code)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="B">
								<Format><![CDATA[/1!a[/34x](CRLF35x) | /1!a[/34x] | [/34xCRLF]35x | /34x]]></Format>
								<Specification><![CDATA[(CreditDebit) (Party Identifier) (Location) | (CreditDebit)(Party Identifier) |(Party Identifier) (Location) | (Party Identifier)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
							<Option Name="D">
								<Format><![CDATA[/1!a([/34x])(CRLF4*35x) | ([/34xCRLF])(4*35x)]]></Format>
								<Specification><![CDATA[(CreditDebit)(Party Identifier)(Name & Address)|(Party Identifier)(Name & Address)]]></Specification>
								<Description><![CDATA[Account With Institution]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A, B, D</Options>
						<Validations>
							<SubField Name="Identifier_Code">
								<Validation>
									<Options>A</Options>
									<ErrorCode>T27, T28, T29, T45</ErrorCode>
									<Comment><![CDATA[Identifier Code must be a registered BIC or BEI (Error code(s): T27,T28,T29,T45)]]></Comment>
									<ValidationPattern xsi:type="BIC" Type="BIC">
										<Type>BIC</Type>
									</ValidationPattern>
								</Validation>
								<Validation>
									<Options>A</Options>
									<ErrorCode>C05</ErrorCode>
									<Comment><![CDATA[Identifier Code must not be a BEI, ie must not be of subtype BEID, MCCO, TESP or TRCO]]></Comment>
									<ValidationPattern xsi:type="C05" Type="C05">
										<Type>C05</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
							<SubField Name="CreditDebit">
								<Validation>
									<Options>A, B, D</Options>
									<ErrorCode>T51</ErrorCode>
									<Comment><![CDATA[CreditDebit must contain the following codes (Error Code:T51)]]></Comment>
									<ValidationPattern xsi:type="CODE" Type="CODE">
										<Type>CODE</Type>
										<Codes>
											<Code Name="C">
												<DetailedName>Credit</DetailedName>
											</Code>
											<Code Name="D">
												<DetailedName>Debit</DetailedName>
											</Code>
										</Codes>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="71B">
						<SwiftFieldDef Name="71">
							<Generic>false</Generic>
							<Option Name="B">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Details of Charges]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>B</Options>
					</SwiftField>
					<SwiftField Name="72">
						<SwiftFieldDef Name="72">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Sender to Receiver Information]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>72.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT992_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message is: 

a) sent by a financial institution to request a second financial institution to consider cancellation of the SWIFT message identified in the request. 

b) sent by a corporate customer to request a financial institution to consider cancellation of the SWIFT message identified in the request. 

If the Receiver of the request for cancellation has already acted on the message for which cancellation is requested, the MT n92 asks for a retransfer, that is, reversal, with the beneficiary's consent.

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT992</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Request for Cancellation</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="11S">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n[CRLF4!n6!n]]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number) (ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11S</name>
						<fieldname>11S.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11S, MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size == 0, IsNotNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C25</error-code>
						<actionmessage><![CDATA["Either field 79 or a copy of at least the mandatory fields of the original message must be present."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT995_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by a financial institution to another financial institution. 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to request information or clarification relating to a previous SWIFT or non-SWIFT message or to one or more transactions contained therein. 

A query may also be sent to request that an amendment be made to a previous message, except in those cases where a specific message, or facility within a message, has been provided for this purpose in the related category, for example, MT 707, AMEND in field 22 of the MT 300. 

The category digit of the MT n95 Queries must be: 

a) If related to a SWIFT message, the category digit of the related message. 

b) If not related to a SWIFT message, the category digit which best describes the business purpose of the message. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT995</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Queries</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'  (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="75">
						<SwiftFieldDef Name="75">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Queries]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77A">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[20*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A</Options>
					</SwiftField>
					<SwiftField Name="11a">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="R">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of Original Message]]></Description>
							</Option>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>R, S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>R, S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Message to Which the Query Relates]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11a-A</name>
						<fieldname>11a.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11a, MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size > 0, IsNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C31</error-code>
						<actionmessage><![CDATA["Either field 79 or a 'Copy of at least the mandatory fields of the message to which the query relates', but not both, may be present in the message."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT996_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) sent by one financial institution to another financial institution . 

b) sent by a corporate customer to a financial institution. 

c) sent by a financial institution to a corporate customer. 

It is used to respond to an MT n95 Queries or MT n92 Request for Cancellation and other messages where no specific message type has been provided for the response. This message should use the same category digit as the related queries message or request for cancellation. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT996</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Answers</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//'(Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="76">
						<SwiftFieldDef Name="76">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[6*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Answers]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77A">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="A">
								<Format><![CDATA[20*35x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>A</Options>
					</SwiftField>
					<SwiftField Name="11a">
						<SwiftFieldDef Name="11">
							<Generic>false</Generic>
							<Description><![CDATA[Currency]]></Description>
							<Option Name="R">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number) (Date) (Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
							<Option Name="S">
								<Format><![CDATA[3!nCRLF6!n([CRLF4!n6!n])]]></Format>
								<Specification><![CDATA[(MT Number)(Date)(Session Number and ISN)]]></Specification>
								<Description><![CDATA[MT and Date of the Original Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options>R, S</Options>
						<Validations>
							<SubField Name="Date">
								<Validation>
									<Options>R, S</Options>
									<ErrorCode>T50</ErrorCode>
									<Comment><![CDATA[Date must be a valid date expressed as YYMMDD (Error code(s): T50).]]></Comment>
									<ValidationPattern xsi:type="DATE" Type="DATE">
										<Type>DATE</Type>
										<Format>yyMMdd</Format>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative Description of the Original Message to Which the Answer Relates]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
					</SwiftField>
					<CopyOfFields Name="Copy Of Fields">
						<Description><![CDATA[Copy of at least the Mandatory Fields of the Original Message]]></Description>
						<Mandatory>false</Mandatory>
					</CopyOfFields>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F11a</name>
						<fieldname>11a.MT_Number</fieldname>
						<formula><![CDATA[Between($value, 100, 999)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T18</error-code>
						<actionmessage><![CDATA["In field 11a, the subfield MT Number must be a number in the range 100 - 999."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>C1</name>
						<formula><![CDATA[If(F79.$size > 0, IsNull(Copy_Of_Fields), true)]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>C31</error-code>
						<actionmessage><![CDATA["Either field 79 or a 'Copy of at least the mandatory fields of the message to which the answer relates', but not both, may be present in the message."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>FCP</name>
						<fieldname>Copy Of Fields</fieldname>
						<formula><![CDATA[def ActualValue = replace($value, "\r\n", "\n");
(FindFirst(ActualValue, "\n:77F:") == -1 && 
   FindFirst(ActualValue, "\n:77G:") == -1 && 
   FindFirst(ActualValue, "\n:77S:") == -1 && 
   FindFirst(ActualValue, "\n:77T:") == -1) && 
  (!StartsWith(ActualValue, ":77F:") && 
     !StartsWith(ActualValue, ":77G:") && 
     !StartsWith(ActualValue, ":77S:") && 
     !StartsWith(ActualValue, ":77T:"))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T13</error-code>
						<actionmessage><![CDATA["Tags 77F, 77G, 77S or 77T cannot appear in Copy Of Fields."]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT998_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is used by financial institutions, with their own offices, and/or with other financial institutions with which they have established bilateral agreements.

It is used as an envelope for a specified message included in it.

It allows for the definition of a unique format for which another message type is not available or applicable.

It also allows financial institutions to use message types which are awaiting live implementation on the SWIFT system.]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT998</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Proprietary Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>10000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="12">
						<SwiftFieldDef Name="12">
							<Generic>false</Generic>
							<Description><![CDATA[Type of Financial Instrument]]></Description>
							<Option Name="">
								<Format><![CDATA[3!n]]></Format>
								<Specification><![CDATA[(MT Number)]]></Specification>
								<Description><![CDATA[Sub-Message Type]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
					<SwiftField Name="77E">
						<SwiftFieldDef Name="77">
							<Generic>false</Generic>
							<Option Name="E">
								<Format><![CDATA[73x[CRLF1000*78x]]]></Format>
								<Specification><![CDATA[(Text1)(Text2)]]></Specification>
								<Description><![CDATA[Proprietary Message]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options>E</Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>F77E-A</name>
						<fieldname>77E</fieldname>
						<formula><![CDATA[def fullText = F77E.Text1 + "\r\n" + Val(F77E.Text2);
def fieldLength = fullText.Length();
return fieldLength <= 9800;]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T33</error-code>
						<actionmessage><![CDATA["The maximum size of this field is limited to 9800 characters."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<externalmessage xsi:type="SwiftFormat" type="SwiftFormat" version="5.1.2" rulename="MT999_2016" formattype="SwiftFormat" >
		<description><![CDATA[This message type is: 

a) used by financial institutions to send or receive information for which another message type is not applicable. 

b) used between a corporate and its financial institution for which another message type is not applicable. 

The category digit should be chosen so the message will be routed to the unit of the Receiver which is most capable of acting on the information. 

This format does not apply to category 4 and 7. For more details, see the relevant category Message Reference Guide for MT 499 and MT 799. 

]]></description>
		<standard>SWIFT</standard>
		<standard-name>MT999</standard-name>
		<standard-version>SRG 2016</standard-version>
		<standard-release-qualifier>20160308</standard-release-qualifier>
		<standard-category>Cash Management &amp; Customer Status</standard-category>
		<standard-detailed-name>Free Format Message</standard-detailed-name>
		<version>1.0</version>
		<SwiftFields>
			<customizable>true</customizable>
			<modifiable>false</modifiable>
			<SwiftMessageType>User</SwiftMessageType>
			<max-length>2000</max-length>
			<HeaderAndTrailerType>SWIFT_INPUT_OUTPUT_HEADER</HeaderAndTrailerType>
			<Header>
				<fields>
					<field>
						<name>Basic Header</name>
						<description><![CDATA[The Basic Header is given in Block 1 of a SWIFT message and is the only header that appears on all messages. The Basic Header provides the fundamental reference for any particular message and is almost always automatically built by the CBT.
The Basic Header has the same format for both input and output messages. However, the information contained in the Basic Header is relative to the sender when the message is input but relative to the receiver when the same message is output.]]></description>
						<datatype>Section</datatype>
						<required>true</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Application Identifier</name>
								<description><![CDATA[The Application Identifier identifies the application within which the message is being sent or received. The available options are:

F = FIN All user-to-user, FIN system and FIN service messages 
A = GPA Most GPA system and service messages 
L = GPA Certain GPA service messages, for example, LOGIN, LAKs, ABORT 

These values are automatically assigned by the SWIFT system and the user's CBT, but the user should be aware of their existence and significance
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[The Service Identifier consists of 2 numeric characters. It identifies the type of data that is being sent or received and, in doing so, whether the message which follows is one of the following:

a user-to-user message

a system message

a service message, for example, a session control command, such as SELECT, or a logical acknowledgement, such as ACK/SAK/UAK

Users will be primarily concerned with identifier '01' which applies to all GPA and FIN system and user-to-user messages. Other values include: '21' for message acknowledgements such as ACK/NAK, UAK/UNK, '03' for SELECT commands, and 
so on]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>2</length>
							</field>
							<field>
								<name>LT Identifier</name>
								<description><![CDATA[This 12-character SWIFT address, given in the Basic Header Block, is the address of the sending LT for input messages or of the receiving LT for output messages, and includes the Branch Code.

In the Basic Header, the LT Code within the LT Identifier is specific to the LT that has established the session in which the message is being transmitted, that is the sending LT for input messages or the receiving LT for output messages.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Session Number</name>
								<description><![CDATA[The Session Number identifies the session in which the message was transmitted. Within the Basic Header, the 4-digit Session Number is the user's current GPA or FIN Session Number.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Sequence Number</name>
								<description><![CDATA[The sequence number always consists of 6 digits. It is the ISN of the sender's current input session or the OSN of the receiver's current output session.

Note: The sequence number is not present in those messages with an Application Identifier of 'L' (for example LOGIN). The sequence number is, however, a key element in the processing of retrievals. Therefore, LOGINs and attempted LOGINs are not retrievable
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Input</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[The Message Type consists of 3 digits which define the MT number of the message being input. The example used above is for an MT 100 Customer Transfer]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Receiver's Address</name>
								<description><![CDATA[This address is the 12-character SWIFT address of the receiver of the message, but with a LT Code of 'X'. It defines the destination to which the message should be sent.

The system will replace the 'X' with a specific LT Code on delivery of the message according to the delivery control exercised by the receiving user.

The Branch Code is mandatory and will be validated. The default of 'XXX' may be used, as in the example above.

Unless otherwise documented, system messages addressed to the SWIFT system itself should be addressed to SWFTXXXXXXXX.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>12</length>
							</field>
							<field>
								<name>Message Priority</name>
								<description><![CDATA[This character, used within FIN Application Headers only, defines the priority with which a message is delivered. The possible values are:

S = System

U = Urgent

N = Normal

Message Priority 'S' must be used for user-to-system messages; for user-to-user messages either 'U' or 'N' can be used. In the absence of user-specified delivery criteria, system messages are always delivered first, followed by urgent priority messages and then normal priority messages.

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Delivery Monitoring</name>
								<description><![CDATA[Delivery monitoring options apply only to FIN user-to-user messages, and allow the sender of a message to request:

automatic MT 011 Delivery Notification once the message has been delivered

automatic MT 010 Non-Delivery Warning if a message is not delivered within the specified obsolescence period (see below)

both, or neither, options. This may be requested on an individual message basis.

The chosen option is expressed as a single digit:

1 = Non-Delivery Warning

2 = Delivery Notification

3 = Non-Delivery Warning and Delivery Notification. 
If the message has priority 'U' then the user must request delivery monitoring option '1' or '3'. If the message has priority 'N', the user can request delivery monitoring option '2', or, by leaving the option blank, no delivery monitoring.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>1</length>
							</field>
							<field>
								<name>Obsolescence Period</name>
								<description><![CDATA[The obsolescence period defines the period of time after which a Delayed Message (DLM) trailer is added to a FIN user-to-user message when the message is delivered. For urgent priority messages, it is also the period of time after which, if the message remains undelivered, a Non-Delivery Warning is generated.

The values for the obsolescence period are 003 (15 minutes) for 'U' priority, and 020 (100 minutes) for 'N' priority. An obsolescence period can only be specified when delivery monitoring has been requested (option 1 or 3 for urgent priority messages, option 2 for normal priority messages). If no delivery monitoring has been requested, and an obsolescence period is specified, the message will be NAKed with error code H25.

GPA input Application Headers are similar to their FIN equivalents except that GPA messages do not specify priority, delivery monitoring, nor obsolescence period.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
							</field>
						</fields>
					</field>
					<field>
						<name>Application Header Output</name>
						<description><![CDATA[The Application Header of a SWIFT message provides information about the message itself.

The Application Header is given in Block 2 of a SWIFT message. It differs according to whether the message is a GPA or a FIN message and whether the Application Header is part of an input or an output message.

]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Input/Output Identifier</name>
								<description><![CDATA[For an input message, the Input/Output Identifier consists of the single letter 'I'.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
							<field>
								<name>Message Type</name>
								<description><![CDATA[Three digits indicating the Message Type.]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>3</length>
							</field>
							<field>
								<name>Input Time</name>
								<description><![CDATA[The first occurrence of the time field contains the system time and date. This is the generation time in Greenwich Mean Time (GMT).
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[The input MIR.

If the message is generated by the system, the input time is the generation time (in GMT) and the input MIR is the system MIR

]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>28</length>
							</field>
							<field>
								<name>Output Date</name>
								<description><![CDATA[The output date, local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>6</length>
							</field>
							<field>
								<name>Output Time</name>
								<description><![CDATA[The second occurrence of the time field contains the output time and date. This is in a time local to the receiver.
]]></description>
								<datatype>String</datatype>
								<required>true</required>
								<length>4</length>
							</field>
							<field>
								<name>Message Priority</name>
								<datatype>String</datatype>
								<required>true</required>
								<length>1</length>
							</field>
						</fields>
					</field>
					<field>
						<name>User Header</name>
						<description><![CDATA[The User Header is an optional header available within FIN for user-to-user messages only. It appears in Block 3 of a SWIFT message, and allows users to provide their own reference within the headers for a particular message.

A User Header can only be assigned by the sender of a message and, if assigned, will always appear on the output message copy. Relevant parts of the User Header will be repeated in related system messages and acknowledgements.

Block 3 may contain tag 113, defining banking priorities, and tag 108, which is a user reference. The user reference part of the User Header may be used as one of the selection criteria when retrieving a message.

The optional field tags 103 and 115 are also used in Block 3 for the FIN Copy service. The order of tags, when present, is 103, 113, 108 and 115.

An optional field tag 119 can be included in Block 3 of certain messages to specify that different validation rules are to be applied. Agreed code words in field 119 indicate what validation rules SWIFT will apply. If field 119 is present, it should appear after field 108
]]></description>
						<datatype>Section</datatype>
						<required>false</required>
						<repeating>false</repeating>
						<fields>
							<field>
								<name>Service Identifier</name>
								<description><![CDATA[For any message which the user submits to a FIN Copy service, Block 3 requires an additional field 103 which contains a three-character Service Identifier unique to a specific FIN Copy service. By using a unique identifier it is possible to support access to multiple services within the same CBT.
]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>3</length>
								<tag>103</tag>
							</field>
							<field>
								<name>Banking Priority</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>4</length>
								<tag>113</tag>
							</field>
							<field>
								<name>Message User Reference</name>
								<description><![CDATA[Assigned by the sender of the message.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>16</length>
								<tag>108</tag>
							</field>
							<field>
								<name>Validation Flag</name>
								<description><![CDATA[Indicates whether a special validation needs to be performed by FIN. The following are examples of the values this field may take. Please note that this list is subject to change:

ISITC indicates validation of ISITC Standards. Only to be used with MT 521 and MT 523.

REMIT identifies the presence of field 77T. Only to be used in MT 103.

RFDD indicates that the message is a request for direct debit. Only to be used in MT 104.

STP indicates that the message is validated according to straight through processing principles. Only to be used in MT 103.

]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>119</tag>
							</field>
							<field>
								<name>Balance checkpoint date and time</name>
								<description><![CDATA[This field contains the balance checkpoint date and time consisting of a date (YYMMDD) and a time (HHMMSS[ss], where 'ss' indicates hundredths of a second). The MI that is subscribed to MIRS will always copy this reference from field tag 13G of the last MT298/091 that it sent into the related MT 298/093 or MT 097 that it generates. ]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>423</tag>
							</field>
							<field>
								<name>Message Input Reference</name>
								<description><![CDATA[This field contains the MIR of the payment message that is related to the notification messages in which this field is present. The MI that is subscribed to MIRS will copy it from the received payment message. In a FINCopy scenario, this field must contain the MIR of the related MT 096]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>106</tag>
							</field>
							<field>
								<name>Related Reference</name>
								<description><![CDATA[This field contains the reference of the payment that is related to the notification messages in which this field is present. The payment itself was not the result of a FIN message. The value of this field must correspond to the related reference (field 21) in the MT298/093. The format of field 424 is 16x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>424</tag>
							</field>
							<field>
								<name>Service Type Identifier</name>
								<description><![CDATA[This field identifies the applicable global payment service type. The format of field 111 is 3!n.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>111</tag>
							</field>
							<field>
								<name>Unique End-To-End Transaction Reference</name>
								<description><![CDATA[This field provides an end-to-end reference across a payment transaction. The format of field 121 is 36!x.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>121</tag>
							</field>
							<field>
								<name>Addressee Information</name>
								<description><![CDATA[Tag 115 is only valid for output messages. Information from Central Institution to the receiver of payment message. Information is input in the MT 097 FIN Copy Message Authorisation/Refusal Notification in Y-Copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>115</tag>
							</field>
							<field>
								<name>Payment Release Information Receiver (FINInform Services)</name>
								<description><![CDATA[Tag 165 is only valid for output messages. This field contains information from the server destination to the receiver of payment message. It is only available for use in FINInform services that operate in Y-copy mode.]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>165</tag>
							</field>
							<field>
								<name>Receiver Information</name>
								<description><![CDATA[Tag 433 is only valid for output messages. The screening service inputs information in the MT 097 FINCopy Message Authorisation/Refusal Notification, in Y-Copy mode. FINCopy copies the information to the receiver of the screened message.
				    The following values can be present in this field:
				      AOK: message automatically released by screening service
				      FPO: compliance officer has flagged the screening result as false positive
				      NOK: compliance officer has flagged the screened message as suspect
				    The code word can optionally be followed by additional information (up to 20 characters from the x character set).]]></description>
								<datatype>String</datatype>
								<required>false</required>
								<length>-1</length>
								<tag>433</tag>
							</field>
						</fields>
					</field>
				</fields>
			</Header>
			<Data>
				<Fields>
					<SwiftField Name="20">
						<SwiftFieldDef Name="20">
							<Generic>false</Generic>
							<Description><![CDATA[Reference]]></Description>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Transaction Reference Number]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="21">
						<SwiftFieldDef Name="21">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[16x]]></Format>
								<Specification><![CDATA[(Reference)]]></Specification>
								<Description><![CDATA[Related Reference]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>O</Presence>
						<Options> </Options>
						<Validations>
							<SubField Name="Reference">
								<Validation>
									<Options> </Options>
									<ErrorCode>T26</ErrorCode>
									<Comment><![CDATA[This field must not start or end with a slash '/' and must not contain two consecutive slashes '//' (Error code(s): T26).]]></Comment>
									<ValidationPattern xsi:type="T26" Type="T26">
										<Type>T26</Type>
									</ValidationPattern>
								</Validation>
							</SubField>
						</Validations>
					</SwiftField>
					<SwiftField Name="79">
						<SwiftFieldDef Name="79">
							<Generic>false</Generic>
							<Option Name="">
								<Format><![CDATA[35*50x]]></Format>
								<Specification><![CDATA[(Narrative)]]></Specification>
								<Description><![CDATA[Narrative]]></Description>
							</Option>
						</SwiftFieldDef>
						<Repeating>false</Repeating>
						<Presence>M</Presence>
						<Options> </Options>
					</SwiftField>
				</Fields>
			</Data>
			<Trailer>
				<fields>
					<field>
						<name>Message Authentication Code</name>
						<description><![CDATA[Allows authentication by the receiving user. It is followed by an authentication result.

This trailer is mandatory for most user-to-user message categories within the FIN application. When the FIN Copy Service is used a PAC trailer, if present, follows the MAC trailer.

Format:

{MAC:<authentication-result>}

where <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>MAC</tag>
					</field>
					<field>
						<name>Proprietary Authentication Code</name>
						<description><![CDATA[The PAC is used within the FIN Copy service only, when using the double authentication option. The PAC is included in Block 5 of FIN user-to-user messages, immediately after the MAC trailer, if present.

This is calculated on the extracted fields of Block 4 of the message, the value of field 115, if present, and the <authentication-result> of the MAC trailer for Copy Services with double authentication.

Thus, the end-of-block indicator (CrLf-) is included in the PAC calculation, and the fields are defined as follows:

The first three characters are CrLf:

The field and the delimiter are present, that is, 32A:, 20:, and so on.

All subfields and their delimiters are present.

Format:

{PAC:[<authentication-result>]}

where <authentication-result> is mandatory on input messages only and <authentication-result> = 8!h

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>8</length>
						<tag>PAC</tag>
					</field>
					<field>
						<name>Checksum</name>
						<description><![CDATA[The checksum is computed based on the receiver's address (12 characters, with 9th character replaced by X) plus the Text Block. This trailer allows the system and the CBT to check that messages have not been corrupted due to a system malfunction or an undetected transmission error.

Format:

{CHK:<checksum-result>}

where <checksum-result> = 12!h

Note: This trailer is mandatory for FIN and GPA messages (Service Identifier 01).

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>12</length>
						<tag>CHK</tag>
					</field>
					<field>
						<name>System Originated Message</name>
						<description><![CDATA[The system message or service message which is generated by a system PLT has a SYS trailer. All solicited system messages (Service Identifier 01) contain the MIR of the request and may also contain the time.

Format:

{SYS:[<time><mir>]}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>SYS</tag>
					</field>
					<field>
						<name>Test And Training Message</name>
						<description><![CDATA[Mandatory for FIN and GPA messages (Service Identifier 01) sent by, or delivered to, a Test & Training Logical Terminal (LT). This trailer has a tag only, and no value.

Format:

{TNG:}
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>TNG</tag>
					</field>
					<field>
						<name>Possible Duplicate Emission</name>
						<description><![CDATA[This trailer is used by the destination of the message. It only applies to FIN user-to-user messages (Service Identifier 01, message categories reserved for banking messages). There can be multiple PDEs. The system does not verify the order nor restrict the number (except for maximum message length).

Correctly formatted PDE trailers applied to user-to-system messages are accepted by the system, but not processed. This means that the system does not check to see if the original message exists. Therefore, a retrieval request sent with a PDE trailer may be processed twice if the original message was received by the system.

Format:

{PDE:[<time><mir>]}

where <time><mir> refers to the emission of the previous possible issue.

Note: It can be added automatically by a CBT or manually by a user. It may be followed by the MIR and the time of its previous possible messages.

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDE</tag>
					</field>
					<field>
						<name>Delayed Message</name>
						<description><![CDATA[This trailer is added to all FIN user-to-user output messages that have exceeded their obsolescence period. If this trailer appears in GPA or FIN system messages, it must be ignored. This trailer has a tag only, and no value.

The Obsolescence Period is:

U = 15 minutes

N = 100 minutes

Format:

{DLM:}

]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>0</length>
						<tag>DLM</tag>
					</field>
					<field>
						<name>Possible Duplicate Message</name>
						<description><![CDATA[Added by the system to any output message (GPA and FIN Service Identifier 01) being resent because a prior delivery may be invalid. If a system PLT receives a report request with a PDM, the response has a plain PDM (without the optional delivery reference). Other PDMs may be added as a result of unsuccessful delivery attempts to the user. 
Format:
{PDM:[<time><mor>]}
where <time> and the Message Output Reference <mor> are that of the previous attempt.
Note: For messages recovered after a system failure, the optional fields may not be present.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>PDM</tag>
					</field>
					<field>
						<name>Message Reference</name>
						<description><![CDATA[The MRF trailer is used to specify the message reference of the original user message in MT 096 FIN Copy to Central Institution Messages.
Format:
{MRF:<date><full-time><mir>}
where <mir> is that of the original user message whose fields are copied in the MT 096 FIN Copy to Central Institution Message.
Note: The MRF is specific to FIN Copy. The MRF trailer is automatically generated in the MT 096 FIN Copy to Central Institution Message and can only be reused in field 109 of the MT 096 FIN Copy to Central Institution Message to identify the MT 096 to which the MT 097 is a response. The format of the MRF is subject to change.
]]></description>
						<datatype>String</datatype>
						<required>false</required>
						<length>-1</length>
						<tag>MRF</tag>
					</field>
				</fields>
			</Trailer>
		</SwiftFields>
		<validationrules name="Default">
			<hdrvalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>U09</name>
						<formula><![CDATA[if($this.Header.GetFieldIndex("User_Header") != -1) {
    def userHeader = $this.Header.GetSection("User_Header");
    if(userHeader.$size > 0 && userHeader[0].IsNotNull("Validation_Flag")) {
        return false;
    }
}
return true;
]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U09</error-code>
						<actionmessage><![CDATA["User has used tag 119 in a message that is not a candidate for special processing"]]></actionmessage>
					</fieldvalidation>
					<fieldvalidation>
						<name>U03</name>
						<fieldname>User Header</fieldname>
						<formula><![CDATA[Iff(IsNotNull(User_Header.Service_Type_Identifier), 
    IsNotNull(User_Header.Unique_End_To_End_Transaction_Reference))]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>U03</error-code>
						<actionmessage><![CDATA["When populating an end-to-end reference, both fields 111 and 121 must be populated: a message that contains only one of these two fields will not be accepted by FIN."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</hdrvalidationrules>
			<datavalidationrules>
				<fieldvalidations>
					<fieldvalidation>
						<name>ERI</name>
						<fieldname>79.Narrative</fieldname>
						<formula><![CDATA[ApplyERICodeValidationUnstructured($value);]]></formula>
						<severity>error</severity>
						<cascade>true</cascade>
						<error-code>T47</error-code>
						<actionmessage><![CDATA["In an ERI field (i.e. fields 61, 72, 77A, 79, 86) the data part of a code word /OCMT/, or /CHGS/, is being validated, but the ending separator (i.e. third slash) is missing or the code words are duplicated."]]></actionmessage>
					</fieldvalidation>
				</fieldvalidations>
			</datavalidationrules>
			<tlrvalidationrules>
				<fieldvalidations>
				</fieldvalidations>
			</tlrvalidationrules>
		</validationrules>
		<elementproperties>
			<propertymap>
				<property name="codegen.java.properties">
					<value>
						<propertymap type="com.tplus.transform.design.PropertiesDef">
							<property name="Java Package Name" value="com.transform.external.%e"/>
							<property name="Jar Name" value="%c.jar"/>
							<property name="Manifest Entries" value="transformrt.jar swiftrt.jar swiftresources.jar"/>
							<property name="Data Source" value=""/>
						</propertymap>
					</value>
				</property>
			</propertymap>
		</elementproperties>
	</externalmessage>
	<elementproperties>
		<propertymap>
			<property name="DOCUMENT_PROPERTIES">
				<value>
					<propertymap>
						<property name="Creation Time" value="Mon Jun 29 14:59:39 IST 2015"/>
						<property name="Author" value="xbbkqpv"/>
						<property name="Title" value="MT8-9_2015"/>
						<property name="Client Id" value="amrkumar@inautix.co.in"/>
						<property name="Last Author" value="xbbkn0m"/>
						<property name="Last Save Time" value="Fri Jul 15 15:54:06 IST 2016"/>
						<property name="Designer Build" value="1612"/>
						<property name="Revision Number" value="19"/>
					</propertymap>
				</value>
			</property>
			<property name="CARTRIDGE_INFO">
				<value>
					<propertymap type="com.tplus.transform.design.CartridgeInfo">
						<property name="GeneratedFiles">
							<value>
								<propertymap>
									<property name="Java/EJB">
										<value>
											<propertymap>
												<property name="assembly">
													<value>
														<propertylist>
															<value>
																<propertymap type="com.tplus.transform.design.AssemblyInfo">
																	<property name="groupId" value="com.volantetech.volante.cartridge"/>
																	<property name="name" value="C:\Harvest-Checkout\SR2016 with Volante 5.1.2 fix\FMTSwiftEdit\volante\Messages\java\MT8-9_2016.jar"/>
																	<property name="artifactId" value="cartridge-MT8-9_2016"/>
																	<property name="type" value="assembly"/>
																	<property name="version" value="1.0"/>
																</propertymap>
															</value>
														</propertylist>
													</value>
												</property>
												<property name="DEPENDENCY">
													<value>
														<propertylist>
															<value>
																<propertymap type="com.tplus.transform.design.ModuleInfo">
																	<property name="groupId" value="com.volantetech.volante"/>
																	<property name="name" value="C:\Volante 5.1.2\Volante\lib\runtime\swiftresources.jar"/>
																	<property name="artifactId" value="volante-swift-resources"/>
																	<property name="type" value="DEPENDENCY"/>
																	<property name="version" value="5.1.2"/>
																</propertymap>
															</value>
															<value>
																<propertymap type="com.tplus.transform.design.ModuleInfo">
																	<property name="groupId" value="com.volantetech.volante"/>
																	<property name="name" value="C:\Volante 5.1.2\Volante\lib\runtime\transformrt.jar"/>
																	<property name="artifactId" value="volante-core"/>
																	<property name="type" value="DEPENDENCY"/>
																	<property name="version" value="5.1.2"/>
																</propertymap>
															</value>
															<value>
																<propertymap type="com.tplus.transform.design.ModuleInfo">
																	<property name="groupId" value="com.volantetech.volante"/>
																	<property name="name" value="C:\Volante 5.1.2\Volante\lib\runtime\swiftrt.jar"/>
																	<property name="artifactId" value="volante-swift"/>
																	<property name="type" value="DEPENDENCY"/>
																	<property name="version" value="5.1.2"/>
																</propertymap>
															</value>
															<value>
																<propertymap type="com.tplus.transform.design.ModuleInfo">
																	<property name="groupId" value="com.volantetech.volante"/>
																	<property name="name" value="C:\Volante 5.1.2\Volante\lib\runtime\generalutils.jar"/>
																	<property name="artifactId" value="volante-utils"/>
																	<property name="type" value="DEPENDENCY"/>
																	<property name="version" value="5.1.2"/>
																</propertymap>
															</value>
														</propertylist>
													</value>
												</property>
											</propertymap>
										</value>
									</property>
								</propertymap>
							</value>
						</property>
						<property name="cartridgefilename" value="C:\Harvest-Checkout\SR2016 with Volante 5.1.2 fix\FMTSwiftEdit\volante\Messages\MT8-9_2016.car"/>
					</propertymap>
				</value>
			</property>
			<property name="codegen.java.options">
				<value>
					<propertymap type="com.tplus.transform.design.codegen.java.JavaCodeGeneratorOptions">
						<property name="isJBoss" value="true"/>
						<property name="resource-references">
							<value>
								<propertylist>
								</propertylist>
							</value>
						</property>
						<property name="isWAR" value="false"/>
						<property name="isOSGI" value="true"/>
						<property name="isGenerateALSB" value="false"/>
						<property name="isEJB" value="true"/>
						<property name="osgi-options">
							<value>
								<propertymap>
									<property name="include-dependencies" value="false"/>
								</propertymap>
							</value>
						</property>
						<property name="isOrion" value="true"/>
						<property name="isWebSphere" value="true"/>
						<property name="isVolante" value="true"/>
						<property name="isRemote" value="true"/>
						<property name="isLocal" value="true"/>
						<property name="isWebLogic" value="true"/>
						<property name="isGeronimo" value="true"/>
						<property name="isGenerateJNDILinks" value="true"/>
						<property name="isWLEVS" value="false"/>
						<property name="isGenerateEAR" value="false"/>
					</propertymap>
				</value>
			</property>
			<property name="codegen.java.properties">
				<value>
					<propertymap type="com.tplus.transform.design.PropertiesDef">
						<property name="Java Package Name" value="com.transform.cartridge.%c"/>
						<property name="Max Class Length" value="150"/>
					</propertymap>
				</value>
			</property>
			<property name="codegen.java.bindings">
				<value>
					<propertymap type="com.tplus.transform.design.codegen.DefaultLanguageMapping">
					</propertymap>
				</value>
			</property>
			<property name="codegen.java.general">
				<value>
					<propertymap>
					</propertymap>
				</value>
			</property>
		</propertymap>
	</elementproperties>
	<workspace>
		<selected-element root="C:\Harvest-Checkout\SR2016 with Volante 5.1.2 fix\FMTSwiftEdit\volante\Messages\MT8-9_2016.car">MT8-9_2016/MT910_2016</selected-element>
	</workspace>
</cartridge>

